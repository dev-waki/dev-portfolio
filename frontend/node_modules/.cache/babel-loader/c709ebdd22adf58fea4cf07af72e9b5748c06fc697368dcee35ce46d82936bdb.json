{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst eslintScope = require(\"eslint-scope\");\nconst {\n  SyncWaterfallHook,\n  SyncHook,\n  SyncBailHook\n} = require(\"tapable\");\nconst vm = require(\"vm\");\nconst {\n  ConcatSource,\n  OriginalSource,\n  PrefixSource,\n  RawSource,\n  CachedSource,\n  ReplaceSource\n} = require(\"webpack-sources\");\nconst Compilation = require(\"../Compilation\");\nconst {\n  tryRunOrWebpackError\n} = require(\"../HookWebpackError\");\nconst HotUpdateChunk = require(\"../HotUpdateChunk\");\nconst InitFragment = require(\"../InitFragment\");\nconst {\n  JAVASCRIPT_MODULE_TYPE_AUTO,\n  JAVASCRIPT_MODULE_TYPE_DYNAMIC,\n  JAVASCRIPT_MODULE_TYPE_ESM,\n  WEBPACK_MODULE_TYPE_RUNTIME\n} = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst {\n  last,\n  someInIterable\n} = require(\"../util/IterableHelpers\");\nconst StringXor = require(\"../util/StringXor\");\nconst {\n  compareModulesByIdentifier\n} = require(\"../util/comparators\");\nconst {\n  getPathInAst,\n  getAllReferences,\n  RESERVED_NAMES,\n  findNewName,\n  addScopeSymbols,\n  getUsedNamesInScopeInfo\n} = require(\"../util/concatenate\");\nconst createHash = require(\"../util/createHash\");\nconst nonNumericOnlyHash = require(\"../util/nonNumericOnlyHash\");\nconst {\n  intersectRuntime\n} = require(\"../util/runtime\");\nconst JavascriptGenerator = require(\"./JavascriptGenerator\");\nconst JavascriptParser = require(\"./JavascriptParser\");\n\n/** @typedef {import(\"eslint-scope\").Reference} Reference */\n/** @typedef {import(\"eslint-scope\").Scope} Scope */\n/** @typedef {import(\"eslint-scope\").Variable} Variable */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Output} OutputOptions */\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../CodeGenerationResults\")} CodeGenerationResults */\n/** @typedef {import(\"../Compilation\").ChunkHashContext} ChunkHashContext */\n/** @typedef {import(\"../Compilation\").ModuleObject} ModuleObject */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../DependencyTemplates\")} DependencyTemplates */\n/** @typedef {import(\"../Entrypoint\")} Entrypoint */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../Module\").BuildInfo} BuildInfo */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../RuntimeTemplate\")} RuntimeTemplate */\n/** @typedef {import(\"../TemplatedPathPlugin\").TemplatePath} TemplatePath */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/createHash\").Algorithm} Algorithm */\n\n/**\n * @param {Chunk} chunk a chunk\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {boolean} true, when a JS file is needed for this chunk\n */\nconst chunkHasJs = (chunk, chunkGraph) => {\n  if (chunkGraph.getNumberOfEntryModules(chunk) > 0) return true;\n  return Boolean(chunkGraph.getChunkModulesIterableBySourceType(chunk, \"javascript\"));\n};\n\n/**\n * @param {Chunk} chunk a chunk\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {boolean} true, when a JS file is needed for this chunk\n */\nconst chunkHasRuntimeOrJs = (chunk, chunkGraph) => {\n  if (chunkGraph.getChunkModulesIterableBySourceType(chunk, WEBPACK_MODULE_TYPE_RUNTIME)) return true;\n  return Boolean(chunkGraph.getChunkModulesIterableBySourceType(chunk, \"javascript\"));\n};\n\n/**\n * @param {Module} module a module\n * @param {string} code the code\n * @returns {string} generated code for the stack\n */\nconst printGeneratedCodeForStack = (module, code) => {\n  const lines = code.split(\"\\n\");\n  const n = `${lines.length}`.length;\n  return `\\n\\nGenerated code for ${module.identifier()}\\n${lines.map(\n  /**\n   * @param {string} line the line\n   * @param {number} i the index\n   * @param {string[]} lines the lines\n   * @returns {string} the line with line number\n   */\n  (line, i, lines) => {\n    const iStr = `${i + 1}`;\n    return `${\" \".repeat(n - iStr.length)}${iStr} | ${line}`;\n  }).join(\"\\n\")}`;\n};\n\n/**\n * @typedef {object} RenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} MainRenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {string} hash hash to be used for render call\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} ChunkRenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {InitFragment<ChunkRenderContext>[]} chunkInitFragments init fragments for the chunk\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} RenderBootstrapContext\n * @property {Chunk} chunk the chunk\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {string} hash hash to be used for render call\n */\n\n/** @typedef {RenderContext & { inlined: boolean }} StartupRenderContext */\n\n/**\n * @typedef {object} CompilationHooks\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModuleContent\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModuleContainer\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModulePackage\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderChunk\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderMain\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderContent\n * @property {SyncWaterfallHook<[Source, RenderContext]>} render\n * @property {SyncWaterfallHook<[Source, Module, StartupRenderContext]>} renderStartup\n * @property {SyncWaterfallHook<[string, RenderBootstrapContext]>} renderRequire\n * @property {SyncBailHook<[Module, RenderBootstrapContext], string | void>} inlineInRuntimeBailout\n * @property {SyncBailHook<[Module, RenderContext], string | void>} embedInRuntimeBailout\n * @property {SyncBailHook<[RenderContext], string | void>} strictRuntimeBailout\n * @property {SyncHook<[Chunk, Hash, ChunkHashContext]>} chunkHash\n * @property {SyncBailHook<[Chunk, RenderContext], boolean | void>} useSourceMap\n */\n\n/** @type {WeakMap<Compilation, CompilationHooks>} */\nconst compilationHooksMap = new WeakMap();\nconst PLUGIN_NAME = \"JavascriptModulesPlugin\";\n\n/** @typedef {{ header: string[], beforeStartup: string[], startup: string[], afterStartup: string[], allowInlineStartup: boolean }} Bootstrap */\n\nclass JavascriptModulesPlugin {\n  /**\n   * @param {Compilation} compilation the compilation\n   * @returns {CompilationHooks} the attached hooks\n   */\n  static getCompilationHooks(compilation) {\n    if (!(compilation instanceof Compilation)) {\n      throw new TypeError(\"The 'compilation' argument must be an instance of Compilation\");\n    }\n    let hooks = compilationHooksMap.get(compilation);\n    if (hooks === undefined) {\n      hooks = {\n        renderModuleContent: new SyncWaterfallHook([\"source\", \"module\", \"renderContext\"]),\n        renderModuleContainer: new SyncWaterfallHook([\"source\", \"module\", \"renderContext\"]),\n        renderModulePackage: new SyncWaterfallHook([\"source\", \"module\", \"renderContext\"]),\n        render: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n        renderContent: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n        renderStartup: new SyncWaterfallHook([\"source\", \"module\", \"startupRenderContext\"]),\n        renderChunk: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n        renderMain: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n        renderRequire: new SyncWaterfallHook([\"code\", \"renderContext\"]),\n        inlineInRuntimeBailout: new SyncBailHook([\"module\", \"renderContext\"]),\n        embedInRuntimeBailout: new SyncBailHook([\"module\", \"renderContext\"]),\n        strictRuntimeBailout: new SyncBailHook([\"renderContext\"]),\n        chunkHash: new SyncHook([\"chunk\", \"hash\", \"context\"]),\n        useSourceMap: new SyncBailHook([\"chunk\", \"renderContext\"])\n      };\n      compilationHooksMap.set(compilation, hooks);\n    }\n    return hooks;\n  }\n  constructor(options = {}) {\n    this.options = options;\n    /** @type {WeakMap<Source, TODO>} */\n    this._moduleFactoryCache = new WeakMap();\n  }\n\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.compilation.tap(PLUGIN_NAME, (compilation, {\n      normalModuleFactory\n    }) => {\n      const hooks = JavascriptModulesPlugin.getCompilationHooks(compilation);\n      normalModuleFactory.hooks.createParser.for(JAVASCRIPT_MODULE_TYPE_AUTO).tap(PLUGIN_NAME, options => new JavascriptParser(\"auto\"));\n      normalModuleFactory.hooks.createParser.for(JAVASCRIPT_MODULE_TYPE_DYNAMIC).tap(PLUGIN_NAME, options => new JavascriptParser(\"script\"));\n      normalModuleFactory.hooks.createParser.for(JAVASCRIPT_MODULE_TYPE_ESM).tap(PLUGIN_NAME, options => new JavascriptParser(\"module\"));\n      normalModuleFactory.hooks.createGenerator.for(JAVASCRIPT_MODULE_TYPE_AUTO).tap(PLUGIN_NAME, () => new JavascriptGenerator());\n      normalModuleFactory.hooks.createGenerator.for(JAVASCRIPT_MODULE_TYPE_DYNAMIC).tap(PLUGIN_NAME, () => new JavascriptGenerator());\n      normalModuleFactory.hooks.createGenerator.for(JAVASCRIPT_MODULE_TYPE_ESM).tap(PLUGIN_NAME, () => new JavascriptGenerator());\n      compilation.hooks.renderManifest.tap(PLUGIN_NAME, (result, options) => {\n        const {\n          hash,\n          chunk,\n          chunkGraph,\n          moduleGraph,\n          runtimeTemplate,\n          dependencyTemplates,\n          outputOptions,\n          codeGenerationResults\n        } = options;\n        const hotUpdateChunk = chunk instanceof HotUpdateChunk ? chunk : null;\n        const filenameTemplate = JavascriptModulesPlugin.getChunkFilenameTemplate(chunk, outputOptions);\n        let render;\n        if (hotUpdateChunk) {\n          render = () => this.renderChunk({\n            chunk,\n            dependencyTemplates,\n            runtimeTemplate,\n            moduleGraph,\n            chunkGraph,\n            codeGenerationResults,\n            strictMode: runtimeTemplate.isModule()\n          }, hooks);\n        } else if (chunk.hasRuntime()) {\n          if (!chunkHasRuntimeOrJs(chunk, chunkGraph)) {\n            return result;\n          }\n          render = () => this.renderMain({\n            hash,\n            chunk,\n            dependencyTemplates,\n            runtimeTemplate,\n            moduleGraph,\n            chunkGraph,\n            codeGenerationResults,\n            strictMode: runtimeTemplate.isModule()\n          }, hooks, compilation);\n        } else {\n          if (!chunkHasJs(chunk, chunkGraph)) {\n            return result;\n          }\n          render = () => this.renderChunk({\n            chunk,\n            dependencyTemplates,\n            runtimeTemplate,\n            moduleGraph,\n            chunkGraph,\n            codeGenerationResults,\n            strictMode: runtimeTemplate.isModule()\n          }, hooks);\n        }\n        result.push({\n          render,\n          filenameTemplate,\n          pathOptions: {\n            hash,\n            runtime: chunk.runtime,\n            chunk,\n            contentHashType: \"javascript\"\n          },\n          info: {\n            javascriptModule: compilation.runtimeTemplate.isModule()\n          },\n          identifier: hotUpdateChunk ? `hotupdatechunk${chunk.id}` : `chunk${chunk.id}`,\n          hash: chunk.contentHash.javascript\n        });\n        return result;\n      });\n      compilation.hooks.chunkHash.tap(PLUGIN_NAME, (chunk, hash, context) => {\n        hooks.chunkHash.call(chunk, hash, context);\n        if (chunk.hasRuntime()) {\n          this.updateHashWithBootstrap(hash, {\n            hash: \"0000\",\n            chunk,\n            codeGenerationResults: context.codeGenerationResults,\n            chunkGraph: context.chunkGraph,\n            moduleGraph: context.moduleGraph,\n            runtimeTemplate: context.runtimeTemplate\n          }, hooks);\n        }\n      });\n      compilation.hooks.contentHash.tap(PLUGIN_NAME, chunk => {\n        const {\n          chunkGraph,\n          codeGenerationResults,\n          moduleGraph,\n          runtimeTemplate,\n          outputOptions: {\n            hashSalt,\n            hashDigest,\n            hashDigestLength,\n            hashFunction\n          }\n        } = compilation;\n        const hash = createHash(/** @type {Algorithm} */hashFunction);\n        if (hashSalt) hash.update(hashSalt);\n        if (chunk.hasRuntime()) {\n          this.updateHashWithBootstrap(hash, {\n            hash: \"0000\",\n            chunk,\n            codeGenerationResults,\n            chunkGraph: compilation.chunkGraph,\n            moduleGraph: compilation.moduleGraph,\n            runtimeTemplate: compilation.runtimeTemplate\n          }, hooks);\n        } else {\n          hash.update(`${chunk.id} `);\n          hash.update(chunk.ids ? chunk.ids.join(\",\") : \"\");\n        }\n        hooks.chunkHash.call(chunk, hash, {\n          chunkGraph,\n          codeGenerationResults,\n          moduleGraph,\n          runtimeTemplate\n        });\n        const modules = chunkGraph.getChunkModulesIterableBySourceType(chunk, \"javascript\");\n        if (modules) {\n          const xor = new StringXor();\n          for (const m of modules) {\n            xor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n          }\n          xor.updateHash(hash);\n        }\n        const runtimeModules = chunkGraph.getChunkModulesIterableBySourceType(chunk, WEBPACK_MODULE_TYPE_RUNTIME);\n        if (runtimeModules) {\n          const xor = new StringXor();\n          for (const m of runtimeModules) {\n            xor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n          }\n          xor.updateHash(hash);\n        }\n        const digest = /** @type {string} */hash.digest(hashDigest);\n        chunk.contentHash.javascript = nonNumericOnlyHash(digest, /** @type {number} */\n        hashDigestLength);\n      });\n      compilation.hooks.additionalTreeRuntimeRequirements.tap(PLUGIN_NAME, (chunk, set, {\n        chunkGraph\n      }) => {\n        if (!set.has(RuntimeGlobals.startupNoDefault) && chunkGraph.hasChunkEntryDependentChunks(chunk)) {\n          set.add(RuntimeGlobals.onChunksLoaded);\n          set.add(RuntimeGlobals.exports);\n          set.add(RuntimeGlobals.require);\n        }\n      });\n      compilation.hooks.executeModule.tap(PLUGIN_NAME, (options, context) => {\n        const source = options.codeGenerationResult.sources.get(\"javascript\");\n        if (source === undefined) return;\n        const {\n          module\n        } = options;\n        const code = source.source();\n        const fn = vm.runInThisContext(`(function(${module.moduleArgument}, ${module.exportsArgument}, ${RuntimeGlobals.require}) {\\n${code}\\n/**/})`, {\n          filename: module.identifier(),\n          lineOffset: -1\n        });\n        const moduleObject = /** @type {ModuleObject} */\n        options.moduleObject;\n        try {\n          fn.call(moduleObject.exports, moduleObject, moduleObject.exports, context.__webpack_require__);\n        } catch (err) {\n          /** @type {Error} */\n          err.stack += printGeneratedCodeForStack(options.module, /** @type {string} */code);\n          throw err;\n        }\n      });\n      compilation.hooks.executeModule.tap(PLUGIN_NAME, (options, context) => {\n        const source = options.codeGenerationResult.sources.get(\"runtime\");\n        if (source === undefined) return;\n        let code = source.source();\n        if (typeof code !== \"string\") code = code.toString();\n        const fn = vm.runInThisContext(`(function(${RuntimeGlobals.require}) {\\n${code}\\n/**/})`, {\n          filename: options.module.identifier(),\n          lineOffset: -1\n        });\n        try {\n          // eslint-disable-next-line no-useless-call\n          fn.call(null, context.__webpack_require__);\n        } catch (err) {\n          /** @type {Error} */\n          err.stack += printGeneratedCodeForStack(options.module, code);\n          throw err;\n        }\n      });\n    });\n  }\n\n  /**\n   * @param {Chunk} chunk chunk\n   * @param {OutputOptions} outputOptions output options\n   * @returns {TemplatePath} used filename template\n   */\n  static getChunkFilenameTemplate(chunk, outputOptions) {\n    if (chunk.filenameTemplate) {\n      return chunk.filenameTemplate;\n    } else if (chunk instanceof HotUpdateChunk) {\n      return /** @type {TemplatePath} */outputOptions.hotUpdateChunkFilename;\n    } else if (chunk.canBeInitial()) {\n      return /** @type {TemplatePath} */outputOptions.filename;\n    }\n    return /** @type {TemplatePath} */outputOptions.chunkFilename;\n  }\n\n  /**\n   * @param {Module} module the rendered module\n   * @param {ChunkRenderContext} renderContext options object\n   * @param {CompilationHooks} hooks hooks\n   * @param {boolean} factory true: renders as factory method, false: pure module content\n   * @returns {Source | null} the newly generated source from rendering\n   */\n  renderModule(module, renderContext, hooks, factory) {\n    const {\n      chunk,\n      chunkGraph,\n      runtimeTemplate,\n      codeGenerationResults,\n      strictMode\n    } = renderContext;\n    try {\n      const codeGenResult = codeGenerationResults.get(module, chunk.runtime);\n      const moduleSource = codeGenResult.sources.get(\"javascript\");\n      if (!moduleSource) return null;\n      if (codeGenResult.data !== undefined) {\n        const chunkInitFragments = codeGenResult.data.get(\"chunkInitFragments\");\n        if (chunkInitFragments) {\n          for (const i of chunkInitFragments) renderContext.chunkInitFragments.push(i);\n        }\n      }\n      const moduleSourcePostContent = tryRunOrWebpackError(() => hooks.renderModuleContent.call(moduleSource, module, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderModuleContent\");\n      let moduleSourcePostContainer;\n      if (factory) {\n        const runtimeRequirements = chunkGraph.getModuleRuntimeRequirements(module, chunk.runtime);\n        const needModule = runtimeRequirements.has(RuntimeGlobals.module);\n        const needExports = runtimeRequirements.has(RuntimeGlobals.exports);\n        const needRequire = runtimeRequirements.has(RuntimeGlobals.require) || runtimeRequirements.has(RuntimeGlobals.requireScope);\n        const needThisAsExports = runtimeRequirements.has(RuntimeGlobals.thisAsExports);\n        const needStrict = /** @type {BuildInfo} */\n        module.buildInfo.strict && !strictMode;\n        const cacheEntry = this._moduleFactoryCache.get(moduleSourcePostContent);\n        let source;\n        if (cacheEntry && cacheEntry.needModule === needModule && cacheEntry.needExports === needExports && cacheEntry.needRequire === needRequire && cacheEntry.needThisAsExports === needThisAsExports && cacheEntry.needStrict === needStrict) {\n          source = cacheEntry.source;\n        } else {\n          const factorySource = new ConcatSource();\n          const args = [];\n          if (needExports || needRequire || needModule) args.push(needModule ? module.moduleArgument : `__unused_webpack_${module.moduleArgument}`);\n          if (needExports || needRequire) args.push(needExports ? module.exportsArgument : `__unused_webpack_${module.exportsArgument}`);\n          if (needRequire) args.push(RuntimeGlobals.require);\n          if (!needThisAsExports && runtimeTemplate.supportsArrowFunction()) {\n            factorySource.add(`/***/ ((${args.join(\", \")}) => {\\n\\n`);\n          } else {\n            factorySource.add(`/***/ (function(${args.join(\", \")}) {\\n\\n`);\n          }\n          if (needStrict) {\n            factorySource.add('\"use strict\";\\n');\n          }\n          factorySource.add(moduleSourcePostContent);\n          factorySource.add(\"\\n\\n/***/ })\");\n          source = new CachedSource(factorySource);\n          this._moduleFactoryCache.set(moduleSourcePostContent, {\n            source,\n            needModule,\n            needExports,\n            needRequire,\n            needThisAsExports,\n            needStrict\n          });\n        }\n        moduleSourcePostContainer = tryRunOrWebpackError(() => hooks.renderModuleContainer.call(source, module, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderModuleContainer\");\n      } else {\n        moduleSourcePostContainer = moduleSourcePostContent;\n      }\n      return tryRunOrWebpackError(() => hooks.renderModulePackage.call(moduleSourcePostContainer, module, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderModulePackage\");\n    } catch (err) {\n      /** @type {WebpackError} */\n      err.module = module;\n      throw err;\n    }\n  }\n\n  /**\n   * @param {RenderContext} renderContext the render context\n   * @param {CompilationHooks} hooks hooks\n   * @returns {Source} the rendered source\n   */\n  renderChunk(renderContext, hooks) {\n    const {\n      chunk,\n      chunkGraph\n    } = renderContext;\n    const modules = chunkGraph.getOrderedChunkModulesIterableBySourceType(chunk, \"javascript\", compareModulesByIdentifier);\n    const allModules = modules ? Array.from(modules) : [];\n    let strictHeader;\n    let allStrict = renderContext.strictMode;\n    if (!allStrict && allModules.every(m => /** @type {BuildInfo} */m.buildInfo.strict)) {\n      const strictBailout = hooks.strictRuntimeBailout.call(renderContext);\n      strictHeader = strictBailout ? `// runtime can't be in strict mode because ${strictBailout}.\\n` : '\"use strict\";\\n';\n      if (!strictBailout) allStrict = true;\n    }\n    /** @type {ChunkRenderContext} */\n    const chunkRenderContext = {\n      ...renderContext,\n      chunkInitFragments: [],\n      strictMode: allStrict\n    };\n    const moduleSources = Template.renderChunkModules(chunkRenderContext, allModules, module => this.renderModule(module, chunkRenderContext, hooks, true)) || new RawSource(\"{}\");\n    let source = tryRunOrWebpackError(() => hooks.renderChunk.call(moduleSources, chunkRenderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderChunk\");\n    source = tryRunOrWebpackError(() => hooks.renderContent.call(source, chunkRenderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderContent\");\n    if (!source) {\n      throw new Error(\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something\");\n    }\n    source = InitFragment.addToSource(source, chunkRenderContext.chunkInitFragments, chunkRenderContext);\n    source = tryRunOrWebpackError(() => hooks.render.call(source, chunkRenderContext), \"JavascriptModulesPlugin.getCompilationHooks().render\");\n    if (!source) {\n      throw new Error(\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something\");\n    }\n    chunk.rendered = true;\n    return strictHeader ? new ConcatSource(strictHeader, source, \";\") : renderContext.runtimeTemplate.isModule() ? source : new ConcatSource(source, \";\");\n  }\n\n  /**\n   * @param {MainRenderContext} renderContext options object\n   * @param {CompilationHooks} hooks hooks\n   * @param {Compilation} compilation the compilation\n   * @returns {Source} the newly generated source from rendering\n   */\n  renderMain(renderContext, hooks, compilation) {\n    const {\n      chunk,\n      chunkGraph,\n      runtimeTemplate\n    } = renderContext;\n    const runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n    const iife = runtimeTemplate.isIIFE();\n    const bootstrap = this.renderBootstrap(renderContext, hooks);\n    const useSourceMap = hooks.useSourceMap.call(chunk, renderContext);\n    const allModules = Array.from(chunkGraph.getOrderedChunkModulesIterableBySourceType(chunk, \"javascript\", compareModulesByIdentifier) || []);\n    const hasEntryModules = chunkGraph.getNumberOfEntryModules(chunk) > 0;\n    /** @type {Set<Module> | undefined} */\n    let inlinedModules;\n    if (bootstrap.allowInlineStartup && hasEntryModules) {\n      inlinedModules = new Set(chunkGraph.getChunkEntryModulesIterable(chunk));\n    }\n    const source = new ConcatSource();\n    let prefix;\n    if (iife) {\n      if (runtimeTemplate.supportsArrowFunction()) {\n        source.add(\"/******/ (() => { // webpackBootstrap\\n\");\n      } else {\n        source.add(\"/******/ (function() { // webpackBootstrap\\n\");\n      }\n      prefix = \"/******/ \\t\";\n    } else {\n      prefix = \"/******/ \";\n    }\n    let allStrict = renderContext.strictMode;\n    if (!allStrict && allModules.every(m => /** @type {BuildInfo} */m.buildInfo.strict)) {\n      const strictBailout = hooks.strictRuntimeBailout.call(renderContext);\n      if (strictBailout) {\n        source.add(`${prefix}// runtime can't be in strict mode because ${strictBailout}.\\n`);\n      } else {\n        allStrict = true;\n        source.add(`${prefix}\"use strict\";\\n`);\n      }\n    }\n\n    /** @type {ChunkRenderContext} */\n    const chunkRenderContext = {\n      ...renderContext,\n      chunkInitFragments: [],\n      strictMode: allStrict\n    };\n    const chunkModules = Template.renderChunkModules(chunkRenderContext, inlinedModules ? allModules.filter(m => !(/** @type {Set<Module>} */inlinedModules.has(m))) : allModules, module => this.renderModule(module, chunkRenderContext, hooks, true), prefix);\n    if (chunkModules || runtimeRequirements.has(RuntimeGlobals.moduleFactories) || runtimeRequirements.has(RuntimeGlobals.moduleFactoriesAddOnly) || runtimeRequirements.has(RuntimeGlobals.require)) {\n      source.add(`${prefix}var __webpack_modules__ = (`);\n      source.add(chunkModules || \"{}\");\n      source.add(\");\\n\");\n      source.add(\"/************************************************************************/\\n\");\n    }\n    if (bootstrap.header.length > 0) {\n      const header = `${Template.asString(bootstrap.header)}\\n`;\n      source.add(new PrefixSource(prefix, useSourceMap ? new OriginalSource(header, \"webpack/bootstrap\") : new RawSource(header)));\n      source.add(\"/************************************************************************/\\n\");\n    }\n    const runtimeModules = renderContext.chunkGraph.getChunkRuntimeModulesInOrder(chunk);\n    if (runtimeModules.length > 0) {\n      source.add(new PrefixSource(prefix, Template.renderRuntimeModules(runtimeModules, chunkRenderContext)));\n      source.add(\"/************************************************************************/\\n\");\n      // runtimeRuntimeModules calls codeGeneration\n      for (const module of runtimeModules) {\n        compilation.codeGeneratedModules.add(module);\n      }\n    }\n    if (inlinedModules) {\n      if (bootstrap.beforeStartup.length > 0) {\n        const beforeStartup = `${Template.asString(bootstrap.beforeStartup)}\\n`;\n        source.add(new PrefixSource(prefix, useSourceMap ? new OriginalSource(beforeStartup, \"webpack/before-startup\") : new RawSource(beforeStartup)));\n      }\n      const lastInlinedModule = /** @type {Module} */last(inlinedModules);\n      const startupSource = new ConcatSource();\n      if (runtimeRequirements.has(RuntimeGlobals.exports)) {\n        startupSource.add(`var ${RuntimeGlobals.exports} = {};\\n`);\n      }\n      const avoidEntryIife = compilation.options.optimization.avoidEntryIife;\n      /** @type {Map<Module, Source> | false} */\n      let renamedInlinedModule = false;\n      if (avoidEntryIife) {\n        renamedInlinedModule = this.getRenamedInlineModule(allModules, renderContext, inlinedModules, chunkRenderContext, hooks, allStrict, Boolean(chunkModules));\n      }\n      for (const m of inlinedModules) {\n        const renderedModule = renamedInlinedModule ? renamedInlinedModule.get(m) : this.renderModule(m, chunkRenderContext, hooks, false);\n        if (renderedModule) {\n          const innerStrict = !allStrict && /** @type {BuildInfo} */m.buildInfo.strict;\n          const runtimeRequirements = chunkGraph.getModuleRuntimeRequirements(m, chunk.runtime);\n          const exports = runtimeRequirements.has(RuntimeGlobals.exports);\n          const webpackExports = exports && m.exportsArgument === RuntimeGlobals.exports;\n          const iife = innerStrict ? \"it needs to be in strict mode.\" : inlinedModules.size > 1 ?\n          // TODO check globals and top-level declarations of other entries and chunk modules\n          // to make a better decision\n          \"it needs to be isolated against other entry modules.\" : chunkModules && !renamedInlinedModule ? \"it needs to be isolated against other modules in the chunk.\" : exports && !webpackExports ? `it uses a non-standard name for the exports (${m.exportsArgument}).` : hooks.embedInRuntimeBailout.call(m, renderContext);\n          let footer;\n          if (iife !== undefined) {\n            startupSource.add(`// This entry needs to be wrapped in an IIFE because ${iife}\\n`);\n            const arrow = runtimeTemplate.supportsArrowFunction();\n            if (arrow) {\n              startupSource.add(\"(() => {\\n\");\n              footer = \"\\n})();\\n\\n\";\n            } else {\n              startupSource.add(\"!function() {\\n\");\n              footer = \"\\n}();\\n\";\n            }\n            if (innerStrict) startupSource.add('\"use strict\";\\n');\n          } else {\n            footer = \"\\n\";\n          }\n          if (exports) {\n            if (m !== lastInlinedModule) startupSource.add(`var ${m.exportsArgument} = {};\\n`);else if (m.exportsArgument !== RuntimeGlobals.exports) startupSource.add(`var ${m.exportsArgument} = ${RuntimeGlobals.exports};\\n`);\n          }\n          startupSource.add(renderedModule);\n          startupSource.add(footer);\n        }\n      }\n      if (runtimeRequirements.has(RuntimeGlobals.onChunksLoaded)) {\n        startupSource.add(`${RuntimeGlobals.exports} = ${RuntimeGlobals.onChunksLoaded}(${RuntimeGlobals.exports});\\n`);\n      }\n      source.add(hooks.renderStartup.call(startupSource, lastInlinedModule, {\n        ...renderContext,\n        inlined: true\n      }));\n      if (bootstrap.afterStartup.length > 0) {\n        const afterStartup = `${Template.asString(bootstrap.afterStartup)}\\n`;\n        source.add(new PrefixSource(prefix, useSourceMap ? new OriginalSource(afterStartup, \"webpack/after-startup\") : new RawSource(afterStartup)));\n      }\n    } else {\n      const lastEntryModule = /** @type {Module} */\n      last(chunkGraph.getChunkEntryModulesIterable(chunk));\n      /** @type {function(string[], string): Source} */\n      const toSource = useSourceMap ? (content, name) => new OriginalSource(Template.asString(content), name) : content => new RawSource(Template.asString(content));\n      source.add(new PrefixSource(prefix, new ConcatSource(toSource(bootstrap.beforeStartup, \"webpack/before-startup\"), \"\\n\", hooks.renderStartup.call(toSource(bootstrap.startup.concat(\"\"), \"webpack/startup\"), lastEntryModule, {\n        ...renderContext,\n        inlined: false\n      }), toSource(bootstrap.afterStartup, \"webpack/after-startup\"), \"\\n\")));\n    }\n    if (hasEntryModules && runtimeRequirements.has(RuntimeGlobals.returnExportsFromRuntime)) {\n      source.add(`${prefix}return ${RuntimeGlobals.exports};\\n`);\n    }\n    if (iife) {\n      source.add(\"/******/ })()\\n\");\n    }\n\n    /** @type {Source} */\n    let finalSource = tryRunOrWebpackError(() => hooks.renderMain.call(source, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderMain\");\n    if (!finalSource) {\n      throw new Error(\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderMain plugins should return something\");\n    }\n    finalSource = tryRunOrWebpackError(() => hooks.renderContent.call(finalSource, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderContent\");\n    if (!finalSource) {\n      throw new Error(\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something\");\n    }\n    finalSource = InitFragment.addToSource(finalSource, chunkRenderContext.chunkInitFragments, chunkRenderContext);\n    finalSource = tryRunOrWebpackError(() => hooks.render.call(finalSource, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().render\");\n    if (!finalSource) {\n      throw new Error(\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something\");\n    }\n    chunk.rendered = true;\n    return iife ? new ConcatSource(finalSource, \";\") : finalSource;\n  }\n\n  /**\n   * @param {Hash} hash the hash to be updated\n   * @param {RenderBootstrapContext} renderContext options object\n   * @param {CompilationHooks} hooks hooks\n   */\n  updateHashWithBootstrap(hash, renderContext, hooks) {\n    const bootstrap = this.renderBootstrap(renderContext, hooks);\n    for (const _k of Object.keys(bootstrap)) {\n      const key = /** @type {keyof Bootstrap} */_k;\n      hash.update(key);\n      if (Array.isArray(bootstrap[key])) {\n        for (const line of bootstrap[key]) {\n          hash.update(line);\n        }\n      } else {\n        hash.update(JSON.stringify(bootstrap[key]));\n      }\n    }\n  }\n\n  /**\n   * @param {RenderBootstrapContext} renderContext options object\n   * @param {CompilationHooks} hooks hooks\n   * @returns {Bootstrap} the generated source of the bootstrap code\n   */\n  renderBootstrap(renderContext, hooks) {\n    const {\n      chunkGraph,\n      codeGenerationResults,\n      moduleGraph,\n      chunk,\n      runtimeTemplate\n    } = renderContext;\n    const runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n    const requireFunction = runtimeRequirements.has(RuntimeGlobals.require);\n    const moduleCache = runtimeRequirements.has(RuntimeGlobals.moduleCache);\n    const moduleFactories = runtimeRequirements.has(RuntimeGlobals.moduleFactories);\n    const moduleUsed = runtimeRequirements.has(RuntimeGlobals.module);\n    const requireScopeUsed = runtimeRequirements.has(RuntimeGlobals.requireScope);\n    const interceptModuleExecution = runtimeRequirements.has(RuntimeGlobals.interceptModuleExecution);\n    const useRequire = requireFunction || interceptModuleExecution || moduleUsed;\n\n    /**\n     * @type {{startup: string[], beforeStartup: string[], header: string[], afterStartup: string[], allowInlineStartup: boolean}}\n     */\n    const result = {\n      header: [],\n      beforeStartup: [],\n      startup: [],\n      afterStartup: [],\n      allowInlineStartup: true\n    };\n    const {\n      header: buf,\n      startup,\n      beforeStartup,\n      afterStartup\n    } = result;\n    if (result.allowInlineStartup && moduleFactories) {\n      startup.push(\"// module factories are used so entry inlining is disabled\");\n      result.allowInlineStartup = false;\n    }\n    if (result.allowInlineStartup && moduleCache) {\n      startup.push(\"// module cache are used so entry inlining is disabled\");\n      result.allowInlineStartup = false;\n    }\n    if (result.allowInlineStartup && interceptModuleExecution) {\n      startup.push(\"// module execution is intercepted so entry inlining is disabled\");\n      result.allowInlineStartup = false;\n    }\n    if (useRequire || moduleCache) {\n      buf.push(\"// The module cache\");\n      buf.push(\"var __webpack_module_cache__ = {};\");\n      buf.push(\"\");\n    }\n    if (useRequire) {\n      buf.push(\"// The require function\");\n      buf.push(`function ${RuntimeGlobals.require}(moduleId) {`);\n      buf.push(Template.indent(this.renderRequire(renderContext, hooks)));\n      buf.push(\"}\");\n      buf.push(\"\");\n    } else if (runtimeRequirements.has(RuntimeGlobals.requireScope)) {\n      buf.push(\"// The require scope\");\n      buf.push(`var ${RuntimeGlobals.require} = {};`);\n      buf.push(\"\");\n    }\n    if (moduleFactories || runtimeRequirements.has(RuntimeGlobals.moduleFactoriesAddOnly)) {\n      buf.push(\"// expose the modules object (__webpack_modules__)\");\n      buf.push(`${RuntimeGlobals.moduleFactories} = __webpack_modules__;`);\n      buf.push(\"\");\n    }\n    if (moduleCache) {\n      buf.push(\"// expose the module cache\");\n      buf.push(`${RuntimeGlobals.moduleCache} = __webpack_module_cache__;`);\n      buf.push(\"\");\n    }\n    if (interceptModuleExecution) {\n      buf.push(\"// expose the module execution interceptor\");\n      buf.push(`${RuntimeGlobals.interceptModuleExecution} = [];`);\n      buf.push(\"\");\n    }\n    if (!runtimeRequirements.has(RuntimeGlobals.startupNoDefault)) {\n      if (chunkGraph.getNumberOfEntryModules(chunk) > 0) {\n        /** @type {string[]} */\n        const buf2 = [];\n        const runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n        buf2.push(\"// Load entry module and return exports\");\n        let i = chunkGraph.getNumberOfEntryModules(chunk);\n        for (const [entryModule, entrypoint] of chunkGraph.getChunkEntryModulesWithChunkGroupIterable(chunk)) {\n          if (!chunkGraph.getModuleSourceTypes(entryModule).has(\"javascript\")) {\n            i--;\n            continue;\n          }\n          const chunks = /** @type {Entrypoint} */\n          entrypoint.chunks.filter(c => c !== chunk);\n          if (result.allowInlineStartup && chunks.length > 0) {\n            buf2.push(\"// This entry module depends on other loaded chunks and execution need to be delayed\");\n            result.allowInlineStartup = false;\n          }\n          if (result.allowInlineStartup && someInIterable(moduleGraph.getIncomingConnectionsByOriginModule(entryModule), ([originModule, connections]) => originModule && connections.some(c => c.isTargetActive(chunk.runtime)) && someInIterable(chunkGraph.getModuleRuntimes(originModule), runtime => intersectRuntime(runtime, chunk.runtime) !== undefined))) {\n            buf2.push(\"// This entry module is referenced by other modules so it can't be inlined\");\n            result.allowInlineStartup = false;\n          }\n          let data;\n          if (codeGenerationResults.has(entryModule, chunk.runtime)) {\n            const result = codeGenerationResults.get(entryModule, chunk.runtime);\n            data = result.data;\n          }\n          if (result.allowInlineStartup && (!data || !data.get(\"topLevelDeclarations\")) && (!entryModule.buildInfo || !entryModule.buildInfo.topLevelDeclarations)) {\n            buf2.push(\"// This entry module doesn't tell about it's top-level declarations so it can't be inlined\");\n            result.allowInlineStartup = false;\n          }\n          if (result.allowInlineStartup) {\n            const bailout = hooks.inlineInRuntimeBailout.call(entryModule, renderContext);\n            if (bailout !== undefined) {\n              buf2.push(`// This entry module can't be inlined because ${bailout}`);\n              result.allowInlineStartup = false;\n            }\n          }\n          i--;\n          const moduleId = chunkGraph.getModuleId(entryModule);\n          const entryRuntimeRequirements = chunkGraph.getModuleRuntimeRequirements(entryModule, chunk.runtime);\n          let moduleIdExpr = JSON.stringify(moduleId);\n          if (runtimeRequirements.has(RuntimeGlobals.entryModuleId)) {\n            moduleIdExpr = `${RuntimeGlobals.entryModuleId} = ${moduleIdExpr}`;\n          }\n          if (result.allowInlineStartup && entryRuntimeRequirements.has(RuntimeGlobals.module)) {\n            result.allowInlineStartup = false;\n            buf2.push(\"// This entry module used 'module' so it can't be inlined\");\n          }\n          if (chunks.length > 0) {\n            buf2.push(`${i === 0 ? `var ${RuntimeGlobals.exports} = ` : \"\"}${RuntimeGlobals.onChunksLoaded}(undefined, ${JSON.stringify(chunks.map(c => c.id))}, ${runtimeTemplate.returningFunction(`${RuntimeGlobals.require}(${moduleIdExpr})`)})`);\n          } else if (useRequire) {\n            buf2.push(`${i === 0 ? `var ${RuntimeGlobals.exports} = ` : \"\"}${RuntimeGlobals.require}(${moduleIdExpr});`);\n          } else {\n            if (i === 0) buf2.push(`var ${RuntimeGlobals.exports} = {};`);\n            if (requireScopeUsed) {\n              buf2.push(`__webpack_modules__[${moduleIdExpr}](0, ${i === 0 ? RuntimeGlobals.exports : \"{}\"}, ${RuntimeGlobals.require});`);\n            } else if (entryRuntimeRequirements.has(RuntimeGlobals.exports)) {\n              buf2.push(`__webpack_modules__[${moduleIdExpr}](0, ${i === 0 ? RuntimeGlobals.exports : \"{}\"});`);\n            } else {\n              buf2.push(`__webpack_modules__[${moduleIdExpr}]();`);\n            }\n          }\n        }\n        if (runtimeRequirements.has(RuntimeGlobals.onChunksLoaded)) {\n          buf2.push(`${RuntimeGlobals.exports} = ${RuntimeGlobals.onChunksLoaded}(${RuntimeGlobals.exports});`);\n        }\n        if (runtimeRequirements.has(RuntimeGlobals.startup) || runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore) && runtimeRequirements.has(RuntimeGlobals.startupOnlyAfter)) {\n          result.allowInlineStartup = false;\n          buf.push(\"// the startup function\");\n          buf.push(`${RuntimeGlobals.startup} = ${runtimeTemplate.basicFunction(\"\", [...buf2, `return ${RuntimeGlobals.exports};`])};`);\n          buf.push(\"\");\n          startup.push(\"// run startup\");\n          startup.push(`var ${RuntimeGlobals.exports} = ${RuntimeGlobals.startup}();`);\n        } else if (runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore)) {\n          buf.push(\"// the startup function\");\n          buf.push(`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`);\n          beforeStartup.push(\"// run runtime startup\");\n          beforeStartup.push(`${RuntimeGlobals.startup}();`);\n          startup.push(\"// startup\");\n          startup.push(Template.asString(buf2));\n        } else if (runtimeRequirements.has(RuntimeGlobals.startupOnlyAfter)) {\n          buf.push(\"// the startup function\");\n          buf.push(`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`);\n          startup.push(\"// startup\");\n          startup.push(Template.asString(buf2));\n          afterStartup.push(\"// run runtime startup\");\n          afterStartup.push(`${RuntimeGlobals.startup}();`);\n        } else {\n          startup.push(\"// startup\");\n          startup.push(Template.asString(buf2));\n        }\n      } else if (runtimeRequirements.has(RuntimeGlobals.startup) || runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore) || runtimeRequirements.has(RuntimeGlobals.startupOnlyAfter)) {\n        buf.push(\"// the startup function\", \"// It's empty as no entry modules are in this chunk\", `${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`, \"\");\n      }\n    } else if (runtimeRequirements.has(RuntimeGlobals.startup) || runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore) || runtimeRequirements.has(RuntimeGlobals.startupOnlyAfter)) {\n      result.allowInlineStartup = false;\n      buf.push(\"// the startup function\", \"// It's empty as some runtime module handles the default behavior\", `${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`);\n      startup.push(\"// run startup\");\n      startup.push(`var ${RuntimeGlobals.exports} = ${RuntimeGlobals.startup}();`);\n    }\n    return result;\n  }\n\n  /**\n   * @param {RenderBootstrapContext} renderContext options object\n   * @param {CompilationHooks} hooks hooks\n   * @returns {string} the generated source of the require function\n   */\n  renderRequire(renderContext, hooks) {\n    const {\n      chunk,\n      chunkGraph,\n      runtimeTemplate: {\n        outputOptions\n      }\n    } = renderContext;\n    const runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n    const moduleExecution = runtimeRequirements.has(RuntimeGlobals.interceptModuleExecution) ? Template.asString([`var execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: ${RuntimeGlobals.require} };`, `${RuntimeGlobals.interceptModuleExecution}.forEach(function(handler) { handler(execOptions); });`, \"module = execOptions.module;\", \"execOptions.factory.call(module.exports, module, module.exports, execOptions.require);\"]) : runtimeRequirements.has(RuntimeGlobals.thisAsExports) ? Template.asString([`__webpack_modules__[moduleId].call(module.exports, module, module.exports, ${RuntimeGlobals.require});`]) : Template.asString([`__webpack_modules__[moduleId](module, module.exports, ${RuntimeGlobals.require});`]);\n    const needModuleId = runtimeRequirements.has(RuntimeGlobals.moduleId);\n    const needModuleLoaded = runtimeRequirements.has(RuntimeGlobals.moduleLoaded);\n    const content = Template.asString([\"// Check if module is in cache\", \"var cachedModule = __webpack_module_cache__[moduleId];\", \"if (cachedModule !== undefined) {\", outputOptions.strictModuleErrorHandling ? Template.indent([\"if (cachedModule.error !== undefined) throw cachedModule.error;\", \"return cachedModule.exports;\"]) : Template.indent(\"return cachedModule.exports;\"), \"}\", \"// Create a new module (and put it into the cache)\", \"var module = __webpack_module_cache__[moduleId] = {\", Template.indent([needModuleId ? \"id: moduleId,\" : \"// no module.id needed\", needModuleLoaded ? \"loaded: false,\" : \"// no module.loaded needed\", \"exports: {}\"]), \"};\", \"\", outputOptions.strictModuleExceptionHandling ? Template.asString([\"// Execute the module function\", \"var threw = true;\", \"try {\", Template.indent([moduleExecution, \"threw = false;\"]), \"} finally {\", Template.indent([\"if(threw) delete __webpack_module_cache__[moduleId];\"]), \"}\"]) : outputOptions.strictModuleErrorHandling ? Template.asString([\"// Execute the module function\", \"try {\", Template.indent(moduleExecution), \"} catch(e) {\", Template.indent([\"module.error = e;\", \"throw e;\"]), \"}\"]) : Template.asString([\"// Execute the module function\", moduleExecution]), needModuleLoaded ? Template.asString([\"\", \"// Flag the module as loaded\", `${RuntimeGlobals.moduleLoaded} = true;`, \"\"]) : \"\", \"// Return the exports of the module\", \"return module.exports;\"]);\n    return tryRunOrWebpackError(() => hooks.renderRequire.call(content, renderContext), \"JavascriptModulesPlugin.getCompilationHooks().renderRequire\");\n  }\n\n  /**\n   * @param {Module[]} allModules allModules\n   * @param {MainRenderContext} renderContext renderContext\n   * @param {Set<Module>} inlinedModules inlinedModules\n   * @param {ChunkRenderContext} chunkRenderContext chunkRenderContext\n   * @param {CompilationHooks} hooks hooks\n   * @param {boolean | undefined} allStrict allStrict\n   * @param {boolean} hasChunkModules hasChunkModules\n   * @returns {Map<Module, Source> | false} renamed inlined modules\n   */\n  getRenamedInlineModule(allModules, renderContext, inlinedModules, chunkRenderContext, hooks, allStrict, hasChunkModules) {\n    const innerStrict = !allStrict && allModules.every(m => /** @type {BuildInfo} */m.buildInfo.strict);\n    const isMultipleEntries = inlinedModules.size > 1;\n    const singleEntryWithModules = inlinedModules.size === 1 && hasChunkModules;\n\n    // TODO:\n    // This step is before the IIFE reason calculation. Ideally, it should only be executed when this function can optimize the\n    // IIFE reason. Otherwise, it should directly return false. There are four reasons now, we have skipped two already, the left\n    // one is 'it uses a non-standard name for the exports'.\n    if (isMultipleEntries || innerStrict || !singleEntryWithModules) {\n      return false;\n    }\n\n    /** @type {Map<Module, Source>} */\n    const renamedInlinedModules = new Map();\n    const {\n      runtimeTemplate\n    } = renderContext;\n\n    /** @typedef {{ source: Source, module: Module, ast: any, variables: Set<Variable>, through: Set<Reference>, usedInNonInlined: Set<Variable>, moduleScope: Scope }} Info */\n    /** @type {Map<Module, Info>} */\n    const inlinedModulesToInfo = new Map();\n    /** @type {Set<string>} */\n    const nonInlinedModuleThroughIdentifiers = new Set();\n    /** @type {Map<Module, Source>} */\n\n    for (const m of allModules) {\n      const isInlinedModule = inlinedModules && inlinedModules.has(m);\n      const moduleSource = this.renderModule(m, chunkRenderContext, hooks, !isInlinedModule);\n      if (!moduleSource) continue;\n      const code = /** @type {string} */moduleSource.source();\n      const ast = JavascriptParser._parse(code, {\n        sourceType: \"auto\"\n      });\n      const scopeManager = eslintScope.analyze(ast, {\n        ecmaVersion: 6,\n        sourceType: \"module\",\n        optimistic: true,\n        ignoreEval: true\n      });\n      const globalScope = /** @type {Scope} */scopeManager.acquire(ast);\n      if (inlinedModules && inlinedModules.has(m)) {\n        const moduleScope = globalScope.childScopes[0];\n        inlinedModulesToInfo.set(m, {\n          source: moduleSource,\n          ast,\n          module: m,\n          variables: new Set(moduleScope.variables),\n          through: new Set(moduleScope.through),\n          usedInNonInlined: new Set(),\n          moduleScope\n        });\n      } else {\n        for (const ref of globalScope.through) {\n          nonInlinedModuleThroughIdentifiers.add(ref.identifier.name);\n        }\n      }\n    }\n    for (const [, {\n      variables,\n      usedInNonInlined\n    }] of inlinedModulesToInfo) {\n      for (const variable of variables) {\n        if (nonInlinedModuleThroughIdentifiers.has(variable.name) || RESERVED_NAMES.has(variable.name)) {\n          usedInNonInlined.add(variable);\n        }\n      }\n    }\n    for (const [m, moduleInfo] of inlinedModulesToInfo) {\n      const {\n        ast,\n        source: _source,\n        usedInNonInlined\n      } = moduleInfo;\n      const source = new ReplaceSource(_source);\n      if (usedInNonInlined.size === 0) {\n        renamedInlinedModules.set(m, source);\n        continue;\n      }\n      const info = /** @type {Info} */inlinedModulesToInfo.get(m);\n      const allUsedNames = new Set(Array.from(info.through, v => v.identifier.name));\n      for (const variable of usedInNonInlined) {\n        allUsedNames.add(variable.name);\n      }\n      for (const variable of info.variables) {\n        allUsedNames.add(variable.name);\n        const references = getAllReferences(variable);\n        const allIdentifiers = new Set(references.map(r => r.identifier).concat(variable.identifiers));\n        const usedNamesInScopeInfo = new Map();\n        const ignoredScopes = new Set();\n        const name = variable.name;\n        const {\n          usedNames,\n          alreadyCheckedScopes\n        } = getUsedNamesInScopeInfo(usedNamesInScopeInfo, info.module.identifier(), name);\n        if (allUsedNames.has(name) || usedNames.has(name)) {\n          const references = getAllReferences(variable);\n          for (const ref of references) {\n            addScopeSymbols(ref.from, usedNames, alreadyCheckedScopes, ignoredScopes);\n          }\n          const newName = findNewName(variable.name, allUsedNames, usedNames, m.readableIdentifier(runtimeTemplate.requestShortener));\n          allUsedNames.add(newName);\n          for (const identifier of allIdentifiers) {\n            const r = /** @type {Range} */identifier.range;\n            const path = getPathInAst(ast, identifier);\n            if (path && path.length > 1) {\n              const maybeProperty = path[1].type === \"AssignmentPattern\" && path[1].left === path[0] ? path[2] : path[1];\n              if (maybeProperty.type === \"Property\" && maybeProperty.shorthand) {\n                source.insert(r[1], `: ${newName}`);\n                continue;\n              }\n            }\n            source.replace(r[0], r[1] - 1, newName);\n          }\n        } else {\n          allUsedNames.add(name);\n        }\n      }\n      renamedInlinedModules.set(m, source);\n    }\n    return renamedInlinedModules;\n  }\n}\nmodule.exports = JavascriptModulesPlugin;\nmodule.exports.chunkHasJs = chunkHasJs;","map":{"version":3,"names":["eslintScope","require","SyncWaterfallHook","SyncHook","SyncBailHook","vm","ConcatSource","OriginalSource","PrefixSource","RawSource","CachedSource","ReplaceSource","Compilation","tryRunOrWebpackError","HotUpdateChunk","InitFragment","JAVASCRIPT_MODULE_TYPE_AUTO","JAVASCRIPT_MODULE_TYPE_DYNAMIC","JAVASCRIPT_MODULE_TYPE_ESM","WEBPACK_MODULE_TYPE_RUNTIME","RuntimeGlobals","Template","last","someInIterable","StringXor","compareModulesByIdentifier","getPathInAst","getAllReferences","RESERVED_NAMES","findNewName","addScopeSymbols","getUsedNamesInScopeInfo","createHash","nonNumericOnlyHash","intersectRuntime","JavascriptGenerator","JavascriptParser","chunkHasJs","chunk","chunkGraph","getNumberOfEntryModules","Boolean","getChunkModulesIterableBySourceType","chunkHasRuntimeOrJs","printGeneratedCodeForStack","module","code","lines","split","n","length","identifier","map","line","i","iStr","repeat","join","compilationHooksMap","WeakMap","PLUGIN_NAME","JavascriptModulesPlugin","getCompilationHooks","compilation","TypeError","hooks","get","undefined","renderModuleContent","renderModuleContainer","renderModulePackage","render","renderContent","renderStartup","renderChunk","renderMain","renderRequire","inlineInRuntimeBailout","embedInRuntimeBailout","strictRuntimeBailout","chunkHash","useSourceMap","set","constructor","options","_moduleFactoryCache","apply","compiler","tap","normalModuleFactory","createParser","for","createGenerator","renderManifest","result","hash","moduleGraph","runtimeTemplate","dependencyTemplates","outputOptions","codeGenerationResults","hotUpdateChunk","filenameTemplate","getChunkFilenameTemplate","strictMode","isModule","hasRuntime","push","pathOptions","runtime","contentHashType","info","javascriptModule","id","contentHash","javascript","context","call","updateHashWithBootstrap","hashSalt","hashDigest","hashDigestLength","hashFunction","update","ids","modules","xor","m","add","getModuleHash","updateHash","runtimeModules","digest","additionalTreeRuntimeRequirements","has","startupNoDefault","hasChunkEntryDependentChunks","onChunksLoaded","exports","executeModule","source","codeGenerationResult","sources","fn","runInThisContext","moduleArgument","exportsArgument","filename","lineOffset","moduleObject","__webpack_require__","err","stack","toString","hotUpdateChunkFilename","canBeInitial","chunkFilename","renderModule","renderContext","factory","codeGenResult","moduleSource","data","chunkInitFragments","moduleSourcePostContent","moduleSourcePostContainer","runtimeRequirements","getModuleRuntimeRequirements","needModule","needExports","needRequire","requireScope","needThisAsExports","thisAsExports","needStrict","buildInfo","strict","cacheEntry","factorySource","args","supportsArrowFunction","getOrderedChunkModulesIterableBySourceType","allModules","Array","from","strictHeader","allStrict","every","strictBailout","chunkRenderContext","moduleSources","renderChunkModules","Error","addToSource","rendered","getTreeRuntimeRequirements","iife","isIIFE","bootstrap","renderBootstrap","hasEntryModules","inlinedModules","allowInlineStartup","Set","getChunkEntryModulesIterable","prefix","chunkModules","filter","moduleFactories","moduleFactoriesAddOnly","header","asString","getChunkRuntimeModulesInOrder","renderRuntimeModules","codeGeneratedModules","beforeStartup","lastInlinedModule","startupSource","avoidEntryIife","optimization","renamedInlinedModule","getRenamedInlineModule","renderedModule","innerStrict","webpackExports","size","footer","arrow","inlined","afterStartup","lastEntryModule","toSource","content","name","startup","concat","returnExportsFromRuntime","finalSource","_k","Object","keys","key","isArray","JSON","stringify","requireFunction","moduleCache","moduleUsed","requireScopeUsed","interceptModuleExecution","useRequire","buf","indent","buf2","entryModule","entrypoint","getChunkEntryModulesWithChunkGroupIterable","getModuleSourceTypes","chunks","c","getIncomingConnectionsByOriginModule","originModule","connections","some","isTargetActive","getModuleRuntimes","topLevelDeclarations","bailout","moduleId","getModuleId","entryRuntimeRequirements","moduleIdExpr","entryModuleId","returningFunction","startupOnlyBefore","startupOnlyAfter","basicFunction","emptyFunction","moduleExecution","needModuleId","needModuleLoaded","moduleLoaded","strictModuleErrorHandling","strictModuleExceptionHandling","hasChunkModules","isMultipleEntries","singleEntryWithModules","renamedInlinedModules","Map","inlinedModulesToInfo","nonInlinedModuleThroughIdentifiers","isInlinedModule","ast","_parse","sourceType","scopeManager","analyze","ecmaVersion","optimistic","ignoreEval","globalScope","acquire","moduleScope","childScopes","variables","through","usedInNonInlined","ref","variable","moduleInfo","_source","allUsedNames","v","references","allIdentifiers","r","identifiers","usedNamesInScopeInfo","ignoredScopes","usedNames","alreadyCheckedScopes","newName","readableIdentifier","requestShortener","range","path","maybeProperty","type","left","shorthand","insert","replace"],"sources":["/home/wickliff/Desktop/dev-waki/portfolio2/node_modules/webpack/lib/javascript/JavascriptModulesPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst eslintScope = require(\"eslint-scope\");\nconst { SyncWaterfallHook, SyncHook, SyncBailHook } = require(\"tapable\");\nconst vm = require(\"vm\");\nconst {\n\tConcatSource,\n\tOriginalSource,\n\tPrefixSource,\n\tRawSource,\n\tCachedSource,\n\tReplaceSource\n} = require(\"webpack-sources\");\nconst Compilation = require(\"../Compilation\");\nconst { tryRunOrWebpackError } = require(\"../HookWebpackError\");\nconst HotUpdateChunk = require(\"../HotUpdateChunk\");\nconst InitFragment = require(\"../InitFragment\");\nconst {\n\tJAVASCRIPT_MODULE_TYPE_AUTO,\n\tJAVASCRIPT_MODULE_TYPE_DYNAMIC,\n\tJAVASCRIPT_MODULE_TYPE_ESM,\n\tWEBPACK_MODULE_TYPE_RUNTIME\n} = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst { last, someInIterable } = require(\"../util/IterableHelpers\");\nconst StringXor = require(\"../util/StringXor\");\nconst { compareModulesByIdentifier } = require(\"../util/comparators\");\nconst {\n\tgetPathInAst,\n\tgetAllReferences,\n\tRESERVED_NAMES,\n\tfindNewName,\n\taddScopeSymbols,\n\tgetUsedNamesInScopeInfo\n} = require(\"../util/concatenate\");\nconst createHash = require(\"../util/createHash\");\nconst nonNumericOnlyHash = require(\"../util/nonNumericOnlyHash\");\nconst { intersectRuntime } = require(\"../util/runtime\");\nconst JavascriptGenerator = require(\"./JavascriptGenerator\");\nconst JavascriptParser = require(\"./JavascriptParser\");\n\n/** @typedef {import(\"eslint-scope\").Reference} Reference */\n/** @typedef {import(\"eslint-scope\").Scope} Scope */\n/** @typedef {import(\"eslint-scope\").Variable} Variable */\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Output} OutputOptions */\n/** @typedef {import(\"../Chunk\")} Chunk */\n/** @typedef {import(\"../ChunkGraph\")} ChunkGraph */\n/** @typedef {import(\"../CodeGenerationResults\")} CodeGenerationResults */\n/** @typedef {import(\"../Compilation\").ChunkHashContext} ChunkHashContext */\n/** @typedef {import(\"../Compilation\").ModuleObject} ModuleObject */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../DependencyTemplates\")} DependencyTemplates */\n/** @typedef {import(\"../Entrypoint\")} Entrypoint */\n/** @typedef {import(\"../Module\")} Module */\n/** @typedef {import(\"../Module\").BuildInfo} BuildInfo */\n/** @typedef {import(\"../ModuleGraph\")} ModuleGraph */\n/** @typedef {import(\"../RuntimeTemplate\")} RuntimeTemplate */\n/** @typedef {import(\"../TemplatedPathPlugin\").TemplatePath} TemplatePath */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../javascript/JavascriptParser\").Range} Range */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/createHash\").Algorithm} Algorithm */\n\n/**\n * @param {Chunk} chunk a chunk\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {boolean} true, when a JS file is needed for this chunk\n */\nconst chunkHasJs = (chunk, chunkGraph) => {\n\tif (chunkGraph.getNumberOfEntryModules(chunk) > 0) return true;\n\n\treturn Boolean(\n\t\tchunkGraph.getChunkModulesIterableBySourceType(chunk, \"javascript\")\n\t);\n};\n\n/**\n * @param {Chunk} chunk a chunk\n * @param {ChunkGraph} chunkGraph the chunk graph\n * @returns {boolean} true, when a JS file is needed for this chunk\n */\nconst chunkHasRuntimeOrJs = (chunk, chunkGraph) => {\n\tif (\n\t\tchunkGraph.getChunkModulesIterableBySourceType(\n\t\t\tchunk,\n\t\t\tWEBPACK_MODULE_TYPE_RUNTIME\n\t\t)\n\t)\n\t\treturn true;\n\n\treturn Boolean(\n\t\tchunkGraph.getChunkModulesIterableBySourceType(chunk, \"javascript\")\n\t);\n};\n\n/**\n * @param {Module} module a module\n * @param {string} code the code\n * @returns {string} generated code for the stack\n */\nconst printGeneratedCodeForStack = (module, code) => {\n\tconst lines = code.split(\"\\n\");\n\tconst n = `${lines.length}`.length;\n\treturn `\\n\\nGenerated code for ${module.identifier()}\\n${lines\n\t\t.map(\n\t\t\t/**\n\t\t\t * @param {string} line the line\n\t\t\t * @param {number} i the index\n\t\t\t * @param {string[]} lines the lines\n\t\t\t * @returns {string} the line with line number\n\t\t\t */\n\t\t\t(line, i, lines) => {\n\t\t\t\tconst iStr = `${i + 1}`;\n\t\t\t\treturn `${\" \".repeat(n - iStr.length)}${iStr} | ${line}`;\n\t\t\t}\n\t\t)\n\t\t.join(\"\\n\")}`;\n};\n\n/**\n * @typedef {object} RenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} MainRenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {string} hash hash to be used for render call\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} ChunkRenderContext\n * @property {Chunk} chunk the chunk\n * @property {DependencyTemplates} dependencyTemplates the dependency templates\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {InitFragment<ChunkRenderContext>[]} chunkInitFragments init fragments for the chunk\n * @property {boolean | undefined} strictMode rendering in strict context\n */\n\n/**\n * @typedef {object} RenderBootstrapContext\n * @property {Chunk} chunk the chunk\n * @property {CodeGenerationResults} codeGenerationResults results of code generation\n * @property {RuntimeTemplate} runtimeTemplate the runtime template\n * @property {ModuleGraph} moduleGraph the module graph\n * @property {ChunkGraph} chunkGraph the chunk graph\n * @property {string} hash hash to be used for render call\n */\n\n/** @typedef {RenderContext & { inlined: boolean }} StartupRenderContext */\n\n/**\n * @typedef {object} CompilationHooks\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModuleContent\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModuleContainer\n * @property {SyncWaterfallHook<[Source, Module, ChunkRenderContext]>} renderModulePackage\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderChunk\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderMain\n * @property {SyncWaterfallHook<[Source, RenderContext]>} renderContent\n * @property {SyncWaterfallHook<[Source, RenderContext]>} render\n * @property {SyncWaterfallHook<[Source, Module, StartupRenderContext]>} renderStartup\n * @property {SyncWaterfallHook<[string, RenderBootstrapContext]>} renderRequire\n * @property {SyncBailHook<[Module, RenderBootstrapContext], string | void>} inlineInRuntimeBailout\n * @property {SyncBailHook<[Module, RenderContext], string | void>} embedInRuntimeBailout\n * @property {SyncBailHook<[RenderContext], string | void>} strictRuntimeBailout\n * @property {SyncHook<[Chunk, Hash, ChunkHashContext]>} chunkHash\n * @property {SyncBailHook<[Chunk, RenderContext], boolean | void>} useSourceMap\n */\n\n/** @type {WeakMap<Compilation, CompilationHooks>} */\nconst compilationHooksMap = new WeakMap();\n\nconst PLUGIN_NAME = \"JavascriptModulesPlugin\";\n\n/** @typedef {{ header: string[], beforeStartup: string[], startup: string[], afterStartup: string[], allowInlineStartup: boolean }} Bootstrap */\n\nclass JavascriptModulesPlugin {\n\t/**\n\t * @param {Compilation} compilation the compilation\n\t * @returns {CompilationHooks} the attached hooks\n\t */\n\tstatic getCompilationHooks(compilation) {\n\t\tif (!(compilation instanceof Compilation)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t\"The 'compilation' argument must be an instance of Compilation\"\n\t\t\t);\n\t\t}\n\t\tlet hooks = compilationHooksMap.get(compilation);\n\t\tif (hooks === undefined) {\n\t\t\thooks = {\n\t\t\t\trenderModuleContent: new SyncWaterfallHook([\n\t\t\t\t\t\"source\",\n\t\t\t\t\t\"module\",\n\t\t\t\t\t\"renderContext\"\n\t\t\t\t]),\n\t\t\t\trenderModuleContainer: new SyncWaterfallHook([\n\t\t\t\t\t\"source\",\n\t\t\t\t\t\"module\",\n\t\t\t\t\t\"renderContext\"\n\t\t\t\t]),\n\t\t\t\trenderModulePackage: new SyncWaterfallHook([\n\t\t\t\t\t\"source\",\n\t\t\t\t\t\"module\",\n\t\t\t\t\t\"renderContext\"\n\t\t\t\t]),\n\t\t\t\trender: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n\t\t\t\trenderContent: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n\t\t\t\trenderStartup: new SyncWaterfallHook([\n\t\t\t\t\t\"source\",\n\t\t\t\t\t\"module\",\n\t\t\t\t\t\"startupRenderContext\"\n\t\t\t\t]),\n\t\t\t\trenderChunk: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n\t\t\t\trenderMain: new SyncWaterfallHook([\"source\", \"renderContext\"]),\n\t\t\t\trenderRequire: new SyncWaterfallHook([\"code\", \"renderContext\"]),\n\t\t\t\tinlineInRuntimeBailout: new SyncBailHook([\"module\", \"renderContext\"]),\n\t\t\t\tembedInRuntimeBailout: new SyncBailHook([\"module\", \"renderContext\"]),\n\t\t\t\tstrictRuntimeBailout: new SyncBailHook([\"renderContext\"]),\n\t\t\t\tchunkHash: new SyncHook([\"chunk\", \"hash\", \"context\"]),\n\t\t\t\tuseSourceMap: new SyncBailHook([\"chunk\", \"renderContext\"])\n\t\t\t};\n\t\t\tcompilationHooksMap.set(compilation, hooks);\n\t\t}\n\t\treturn hooks;\n\t}\n\n\tconstructor(options = {}) {\n\t\tthis.options = options;\n\t\t/** @type {WeakMap<Source, TODO>} */\n\t\tthis._moduleFactoryCache = new WeakMap();\n\t}\n\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\n\t\t\tPLUGIN_NAME,\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tconst hooks = JavascriptModulesPlugin.getCompilationHooks(compilation);\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_AUTO)\n\t\t\t\t\t.tap(PLUGIN_NAME, options => new JavascriptParser(\"auto\"));\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_DYNAMIC)\n\t\t\t\t\t.tap(PLUGIN_NAME, options => new JavascriptParser(\"script\"));\n\t\t\t\tnormalModuleFactory.hooks.createParser\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_ESM)\n\t\t\t\t\t.tap(PLUGIN_NAME, options => new JavascriptParser(\"module\"));\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_AUTO)\n\t\t\t\t\t.tap(PLUGIN_NAME, () => new JavascriptGenerator());\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_DYNAMIC)\n\t\t\t\t\t.tap(PLUGIN_NAME, () => new JavascriptGenerator());\n\t\t\t\tnormalModuleFactory.hooks.createGenerator\n\t\t\t\t\t.for(JAVASCRIPT_MODULE_TYPE_ESM)\n\t\t\t\t\t.tap(PLUGIN_NAME, () => new JavascriptGenerator());\n\t\t\t\tcompilation.hooks.renderManifest.tap(PLUGIN_NAME, (result, options) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\thash,\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\truntimeTemplate,\n\t\t\t\t\t\tdependencyTemplates,\n\t\t\t\t\t\toutputOptions,\n\t\t\t\t\t\tcodeGenerationResults\n\t\t\t\t\t} = options;\n\n\t\t\t\t\tconst hotUpdateChunk = chunk instanceof HotUpdateChunk ? chunk : null;\n\t\t\t\t\tconst filenameTemplate =\n\t\t\t\t\t\tJavascriptModulesPlugin.getChunkFilenameTemplate(\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\toutputOptions\n\t\t\t\t\t\t);\n\n\t\t\t\t\tlet render;\n\n\t\t\t\t\tif (hotUpdateChunk) {\n\t\t\t\t\t\trender = () =>\n\t\t\t\t\t\t\tthis.renderChunk(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tdependencyTemplates,\n\t\t\t\t\t\t\t\t\truntimeTemplate,\n\t\t\t\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\t\t\t\tstrictMode: runtimeTemplate.isModule()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thooks\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else if (chunk.hasRuntime()) {\n\t\t\t\t\t\tif (!chunkHasRuntimeOrJs(chunk, chunkGraph)) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trender = () =>\n\t\t\t\t\t\t\tthis.renderMain(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tdependencyTemplates,\n\t\t\t\t\t\t\t\t\truntimeTemplate,\n\t\t\t\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\t\t\t\tstrictMode: runtimeTemplate.isModule()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thooks,\n\t\t\t\t\t\t\t\tcompilation\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!chunkHasJs(chunk, chunkGraph)) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trender = () =>\n\t\t\t\t\t\t\tthis.renderChunk(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\t\tdependencyTemplates,\n\t\t\t\t\t\t\t\t\truntimeTemplate,\n\t\t\t\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\t\t\t\tstrictMode: runtimeTemplate.isModule()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\thooks\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\trender,\n\t\t\t\t\t\tfilenameTemplate,\n\t\t\t\t\t\tpathOptions: {\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\truntime: chunk.runtime,\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\tcontentHashType: \"javascript\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinfo: {\n\t\t\t\t\t\t\tjavascriptModule: compilation.runtimeTemplate.isModule()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tidentifier: hotUpdateChunk\n\t\t\t\t\t\t\t? `hotupdatechunk${chunk.id}`\n\t\t\t\t\t\t\t: `chunk${chunk.id}`,\n\t\t\t\t\t\thash: chunk.contentHash.javascript\n\t\t\t\t\t});\n\n\t\t\t\t\treturn result;\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.chunkHash.tap(PLUGIN_NAME, (chunk, hash, context) => {\n\t\t\t\t\thooks.chunkHash.call(chunk, hash, context);\n\t\t\t\t\tif (chunk.hasRuntime()) {\n\t\t\t\t\t\tthis.updateHashWithBootstrap(\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thash: \"0000\",\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tcodeGenerationResults: context.codeGenerationResults,\n\t\t\t\t\t\t\t\tchunkGraph: context.chunkGraph,\n\t\t\t\t\t\t\t\tmoduleGraph: context.moduleGraph,\n\t\t\t\t\t\t\t\truntimeTemplate: context.runtimeTemplate\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thooks\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.contentHash.tap(PLUGIN_NAME, chunk => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\truntimeTemplate,\n\t\t\t\t\t\toutputOptions: {\n\t\t\t\t\t\t\thashSalt,\n\t\t\t\t\t\t\thashDigest,\n\t\t\t\t\t\t\thashDigestLength,\n\t\t\t\t\t\t\thashFunction\n\t\t\t\t\t\t}\n\t\t\t\t\t} = compilation;\n\t\t\t\t\tconst hash = createHash(/** @type {Algorithm} */ (hashFunction));\n\t\t\t\t\tif (hashSalt) hash.update(hashSalt);\n\t\t\t\t\tif (chunk.hasRuntime()) {\n\t\t\t\t\t\tthis.updateHashWithBootstrap(\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thash: \"0000\",\n\t\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\t\t\tchunkGraph: compilation.chunkGraph,\n\t\t\t\t\t\t\t\tmoduleGraph: compilation.moduleGraph,\n\t\t\t\t\t\t\t\truntimeTemplate: compilation.runtimeTemplate\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thooks\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\thash.update(`${chunk.id} `);\n\t\t\t\t\t\thash.update(chunk.ids ? chunk.ids.join(\",\") : \"\");\n\t\t\t\t\t}\n\t\t\t\t\thooks.chunkHash.call(chunk, hash, {\n\t\t\t\t\t\tchunkGraph,\n\t\t\t\t\t\tcodeGenerationResults,\n\t\t\t\t\t\tmoduleGraph,\n\t\t\t\t\t\truntimeTemplate\n\t\t\t\t\t});\n\t\t\t\t\tconst modules = chunkGraph.getChunkModulesIterableBySourceType(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\"javascript\"\n\t\t\t\t\t);\n\t\t\t\t\tif (modules) {\n\t\t\t\t\t\tconst xor = new StringXor();\n\t\t\t\t\t\tfor (const m of modules) {\n\t\t\t\t\t\t\txor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n\t\t\t\t\t\t}\n\t\t\t\t\t\txor.updateHash(hash);\n\t\t\t\t\t}\n\t\t\t\t\tconst runtimeModules = chunkGraph.getChunkModulesIterableBySourceType(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tWEBPACK_MODULE_TYPE_RUNTIME\n\t\t\t\t\t);\n\t\t\t\t\tif (runtimeModules) {\n\t\t\t\t\t\tconst xor = new StringXor();\n\t\t\t\t\t\tfor (const m of runtimeModules) {\n\t\t\t\t\t\t\txor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n\t\t\t\t\t\t}\n\t\t\t\t\t\txor.updateHash(hash);\n\t\t\t\t\t}\n\t\t\t\t\tconst digest = /** @type {string} */ (hash.digest(hashDigest));\n\t\t\t\t\tchunk.contentHash.javascript = nonNumericOnlyHash(\n\t\t\t\t\t\tdigest,\n\t\t\t\t\t\t/** @type {number} */\n\t\t\t\t\t\t(hashDigestLength)\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.additionalTreeRuntimeRequirements.tap(\n\t\t\t\t\tPLUGIN_NAME,\n\t\t\t\t\t(chunk, set, { chunkGraph }) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!set.has(RuntimeGlobals.startupNoDefault) &&\n\t\t\t\t\t\t\tchunkGraph.hasChunkEntryDependentChunks(chunk)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tset.add(RuntimeGlobals.onChunksLoaded);\n\t\t\t\t\t\t\tset.add(RuntimeGlobals.exports);\n\t\t\t\t\t\t\tset.add(RuntimeGlobals.require);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.hooks.executeModule.tap(PLUGIN_NAME, (options, context) => {\n\t\t\t\t\tconst source = options.codeGenerationResult.sources.get(\"javascript\");\n\t\t\t\t\tif (source === undefined) return;\n\t\t\t\t\tconst { module } = options;\n\t\t\t\t\tconst code = source.source();\n\n\t\t\t\t\tconst fn = vm.runInThisContext(\n\t\t\t\t\t\t`(function(${module.moduleArgument}, ${module.exportsArgument}, ${RuntimeGlobals.require}) {\\n${code}\\n/**/})`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfilename: module.identifier(),\n\t\t\t\t\t\t\tlineOffset: -1\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tconst moduleObject =\n\t\t\t\t\t\t/** @type {ModuleObject} */\n\t\t\t\t\t\t(options.moduleObject);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfn.call(\n\t\t\t\t\t\t\tmoduleObject.exports,\n\t\t\t\t\t\t\tmoduleObject,\n\t\t\t\t\t\t\tmoduleObject.exports,\n\t\t\t\t\t\t\tcontext.__webpack_require__\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t/** @type {Error} */\n\t\t\t\t\t\t(err).stack += printGeneratedCodeForStack(\n\t\t\t\t\t\t\toptions.module,\n\t\t\t\t\t\t\t/** @type {string} */ (code)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcompilation.hooks.executeModule.tap(PLUGIN_NAME, (options, context) => {\n\t\t\t\t\tconst source = options.codeGenerationResult.sources.get(\"runtime\");\n\t\t\t\t\tif (source === undefined) return;\n\t\t\t\t\tlet code = source.source();\n\t\t\t\t\tif (typeof code !== \"string\") code = code.toString();\n\n\t\t\t\t\tconst fn = vm.runInThisContext(\n\t\t\t\t\t\t`(function(${RuntimeGlobals.require}) {\\n${code}\\n/**/})`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfilename: options.module.identifier(),\n\t\t\t\t\t\t\tlineOffset: -1\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// eslint-disable-next-line no-useless-call\n\t\t\t\t\t\tfn.call(null, context.__webpack_require__);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t/** @type {Error} */\n\t\t\t\t\t\t(err).stack += printGeneratedCodeForStack(options.module, code);\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {Chunk} chunk chunk\n\t * @param {OutputOptions} outputOptions output options\n\t * @returns {TemplatePath} used filename template\n\t */\n\tstatic getChunkFilenameTemplate(chunk, outputOptions) {\n\t\tif (chunk.filenameTemplate) {\n\t\t\treturn chunk.filenameTemplate;\n\t\t} else if (chunk instanceof HotUpdateChunk) {\n\t\t\treturn /** @type {TemplatePath} */ (outputOptions.hotUpdateChunkFilename);\n\t\t} else if (chunk.canBeInitial()) {\n\t\t\treturn /** @type {TemplatePath} */ (outputOptions.filename);\n\t\t}\n\t\treturn /** @type {TemplatePath} */ (outputOptions.chunkFilename);\n\t}\n\n\t/**\n\t * @param {Module} module the rendered module\n\t * @param {ChunkRenderContext} renderContext options object\n\t * @param {CompilationHooks} hooks hooks\n\t * @param {boolean} factory true: renders as factory method, false: pure module content\n\t * @returns {Source | null} the newly generated source from rendering\n\t */\n\trenderModule(module, renderContext, hooks, factory) {\n\t\tconst {\n\t\t\tchunk,\n\t\t\tchunkGraph,\n\t\t\truntimeTemplate,\n\t\t\tcodeGenerationResults,\n\t\t\tstrictMode\n\t\t} = renderContext;\n\t\ttry {\n\t\t\tconst codeGenResult = codeGenerationResults.get(module, chunk.runtime);\n\t\t\tconst moduleSource = codeGenResult.sources.get(\"javascript\");\n\t\t\tif (!moduleSource) return null;\n\t\t\tif (codeGenResult.data !== undefined) {\n\t\t\t\tconst chunkInitFragments = codeGenResult.data.get(\"chunkInitFragments\");\n\t\t\t\tif (chunkInitFragments) {\n\t\t\t\t\tfor (const i of chunkInitFragments)\n\t\t\t\t\t\trenderContext.chunkInitFragments.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst moduleSourcePostContent = tryRunOrWebpackError(\n\t\t\t\t() =>\n\t\t\t\t\thooks.renderModuleContent.call(moduleSource, module, renderContext),\n\t\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderModuleContent\"\n\t\t\t);\n\t\t\tlet moduleSourcePostContainer;\n\t\t\tif (factory) {\n\t\t\t\tconst runtimeRequirements = chunkGraph.getModuleRuntimeRequirements(\n\t\t\t\t\tmodule,\n\t\t\t\t\tchunk.runtime\n\t\t\t\t);\n\t\t\t\tconst needModule = runtimeRequirements.has(RuntimeGlobals.module);\n\t\t\t\tconst needExports = runtimeRequirements.has(RuntimeGlobals.exports);\n\t\t\t\tconst needRequire =\n\t\t\t\t\truntimeRequirements.has(RuntimeGlobals.require) ||\n\t\t\t\t\truntimeRequirements.has(RuntimeGlobals.requireScope);\n\t\t\t\tconst needThisAsExports = runtimeRequirements.has(\n\t\t\t\t\tRuntimeGlobals.thisAsExports\n\t\t\t\t);\n\t\t\t\tconst needStrict =\n\t\t\t\t\t/** @type {BuildInfo} */\n\t\t\t\t\t(module.buildInfo).strict && !strictMode;\n\t\t\t\tconst cacheEntry = this._moduleFactoryCache.get(\n\t\t\t\t\tmoduleSourcePostContent\n\t\t\t\t);\n\t\t\t\tlet source;\n\t\t\t\tif (\n\t\t\t\t\tcacheEntry &&\n\t\t\t\t\tcacheEntry.needModule === needModule &&\n\t\t\t\t\tcacheEntry.needExports === needExports &&\n\t\t\t\t\tcacheEntry.needRequire === needRequire &&\n\t\t\t\t\tcacheEntry.needThisAsExports === needThisAsExports &&\n\t\t\t\t\tcacheEntry.needStrict === needStrict\n\t\t\t\t) {\n\t\t\t\t\tsource = cacheEntry.source;\n\t\t\t\t} else {\n\t\t\t\t\tconst factorySource = new ConcatSource();\n\t\t\t\t\tconst args = [];\n\t\t\t\t\tif (needExports || needRequire || needModule)\n\t\t\t\t\t\targs.push(\n\t\t\t\t\t\t\tneedModule\n\t\t\t\t\t\t\t\t? module.moduleArgument\n\t\t\t\t\t\t\t\t: `__unused_webpack_${module.moduleArgument}`\n\t\t\t\t\t\t);\n\t\t\t\t\tif (needExports || needRequire)\n\t\t\t\t\t\targs.push(\n\t\t\t\t\t\t\tneedExports\n\t\t\t\t\t\t\t\t? module.exportsArgument\n\t\t\t\t\t\t\t\t: `__unused_webpack_${module.exportsArgument}`\n\t\t\t\t\t\t);\n\t\t\t\t\tif (needRequire) args.push(RuntimeGlobals.require);\n\t\t\t\t\tif (!needThisAsExports && runtimeTemplate.supportsArrowFunction()) {\n\t\t\t\t\t\tfactorySource.add(`/***/ ((${args.join(\", \")}) => {\\n\\n`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfactorySource.add(`/***/ (function(${args.join(\", \")}) {\\n\\n`);\n\t\t\t\t\t}\n\t\t\t\t\tif (needStrict) {\n\t\t\t\t\t\tfactorySource.add('\"use strict\";\\n');\n\t\t\t\t\t}\n\t\t\t\t\tfactorySource.add(moduleSourcePostContent);\n\t\t\t\t\tfactorySource.add(\"\\n\\n/***/ })\");\n\t\t\t\t\tsource = new CachedSource(factorySource);\n\t\t\t\t\tthis._moduleFactoryCache.set(moduleSourcePostContent, {\n\t\t\t\t\t\tsource,\n\t\t\t\t\t\tneedModule,\n\t\t\t\t\t\tneedExports,\n\t\t\t\t\t\tneedRequire,\n\t\t\t\t\t\tneedThisAsExports,\n\t\t\t\t\t\tneedStrict\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tmoduleSourcePostContainer = tryRunOrWebpackError(\n\t\t\t\t\t() => hooks.renderModuleContainer.call(source, module, renderContext),\n\t\t\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderModuleContainer\"\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tmoduleSourcePostContainer = moduleSourcePostContent;\n\t\t\t}\n\t\t\treturn tryRunOrWebpackError(\n\t\t\t\t() =>\n\t\t\t\t\thooks.renderModulePackage.call(\n\t\t\t\t\t\tmoduleSourcePostContainer,\n\t\t\t\t\t\tmodule,\n\t\t\t\t\t\trenderContext\n\t\t\t\t\t),\n\t\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderModulePackage\"\n\t\t\t);\n\t\t} catch (err) {\n\t\t\t/** @type {WebpackError} */\n\t\t\t(err).module = module;\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t/**\n\t * @param {RenderContext} renderContext the render context\n\t * @param {CompilationHooks} hooks hooks\n\t * @returns {Source} the rendered source\n\t */\n\trenderChunk(renderContext, hooks) {\n\t\tconst { chunk, chunkGraph } = renderContext;\n\t\tconst modules = chunkGraph.getOrderedChunkModulesIterableBySourceType(\n\t\t\tchunk,\n\t\t\t\"javascript\",\n\t\t\tcompareModulesByIdentifier\n\t\t);\n\t\tconst allModules = modules ? Array.from(modules) : [];\n\t\tlet strictHeader;\n\t\tlet allStrict = renderContext.strictMode;\n\t\tif (\n\t\t\t!allStrict &&\n\t\t\tallModules.every(m => /** @type {BuildInfo} */ (m.buildInfo).strict)\n\t\t) {\n\t\t\tconst strictBailout = hooks.strictRuntimeBailout.call(renderContext);\n\t\t\tstrictHeader = strictBailout\n\t\t\t\t? `// runtime can't be in strict mode because ${strictBailout}.\\n`\n\t\t\t\t: '\"use strict\";\\n';\n\t\t\tif (!strictBailout) allStrict = true;\n\t\t}\n\t\t/** @type {ChunkRenderContext} */\n\t\tconst chunkRenderContext = {\n\t\t\t...renderContext,\n\t\t\tchunkInitFragments: [],\n\t\t\tstrictMode: allStrict\n\t\t};\n\t\tconst moduleSources =\n\t\t\tTemplate.renderChunkModules(chunkRenderContext, allModules, module =>\n\t\t\t\tthis.renderModule(module, chunkRenderContext, hooks, true)\n\t\t\t) || new RawSource(\"{}\");\n\t\tlet source = tryRunOrWebpackError(\n\t\t\t() => hooks.renderChunk.call(moduleSources, chunkRenderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderChunk\"\n\t\t);\n\t\tsource = tryRunOrWebpackError(\n\t\t\t() => hooks.renderContent.call(source, chunkRenderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderContent\"\n\t\t);\n\t\tif (!source) {\n\t\t\tthrow new Error(\n\t\t\t\t\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something\"\n\t\t\t);\n\t\t}\n\t\tsource = InitFragment.addToSource(\n\t\t\tsource,\n\t\t\tchunkRenderContext.chunkInitFragments,\n\t\t\tchunkRenderContext\n\t\t);\n\t\tsource = tryRunOrWebpackError(\n\t\t\t() => hooks.render.call(source, chunkRenderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().render\"\n\t\t);\n\t\tif (!source) {\n\t\t\tthrow new Error(\n\t\t\t\t\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something\"\n\t\t\t);\n\t\t}\n\t\tchunk.rendered = true;\n\t\treturn strictHeader\n\t\t\t? new ConcatSource(strictHeader, source, \";\")\n\t\t\t: renderContext.runtimeTemplate.isModule()\n\t\t\t\t? source\n\t\t\t\t: new ConcatSource(source, \";\");\n\t}\n\n\t/**\n\t * @param {MainRenderContext} renderContext options object\n\t * @param {CompilationHooks} hooks hooks\n\t * @param {Compilation} compilation the compilation\n\t * @returns {Source} the newly generated source from rendering\n\t */\n\trenderMain(renderContext, hooks, compilation) {\n\t\tconst { chunk, chunkGraph, runtimeTemplate } = renderContext;\n\n\t\tconst runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n\t\tconst iife = runtimeTemplate.isIIFE();\n\n\t\tconst bootstrap = this.renderBootstrap(renderContext, hooks);\n\t\tconst useSourceMap = hooks.useSourceMap.call(chunk, renderContext);\n\n\t\tconst allModules = Array.from(\n\t\t\tchunkGraph.getOrderedChunkModulesIterableBySourceType(\n\t\t\t\tchunk,\n\t\t\t\t\"javascript\",\n\t\t\t\tcompareModulesByIdentifier\n\t\t\t) || []\n\t\t);\n\n\t\tconst hasEntryModules = chunkGraph.getNumberOfEntryModules(chunk) > 0;\n\t\t/** @type {Set<Module> | undefined} */\n\t\tlet inlinedModules;\n\t\tif (bootstrap.allowInlineStartup && hasEntryModules) {\n\t\t\tinlinedModules = new Set(chunkGraph.getChunkEntryModulesIterable(chunk));\n\t\t}\n\n\t\tconst source = new ConcatSource();\n\t\tlet prefix;\n\t\tif (iife) {\n\t\t\tif (runtimeTemplate.supportsArrowFunction()) {\n\t\t\t\tsource.add(\"/******/ (() => { // webpackBootstrap\\n\");\n\t\t\t} else {\n\t\t\t\tsource.add(\"/******/ (function() { // webpackBootstrap\\n\");\n\t\t\t}\n\t\t\tprefix = \"/******/ \\t\";\n\t\t} else {\n\t\t\tprefix = \"/******/ \";\n\t\t}\n\t\tlet allStrict = renderContext.strictMode;\n\t\tif (\n\t\t\t!allStrict &&\n\t\t\tallModules.every(m => /** @type {BuildInfo} */ (m.buildInfo).strict)\n\t\t) {\n\t\t\tconst strictBailout = hooks.strictRuntimeBailout.call(renderContext);\n\t\t\tif (strictBailout) {\n\t\t\t\tsource.add(\n\t\t\t\t\t`${\n\t\t\t\t\t\tprefix\n\t\t\t\t\t}// runtime can't be in strict mode because ${strictBailout}.\\n`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tallStrict = true;\n\t\t\t\tsource.add(`${prefix}\"use strict\";\\n`);\n\t\t\t}\n\t\t}\n\n\t\t/** @type {ChunkRenderContext} */\n\t\tconst chunkRenderContext = {\n\t\t\t...renderContext,\n\t\t\tchunkInitFragments: [],\n\t\t\tstrictMode: allStrict\n\t\t};\n\n\t\tconst chunkModules = Template.renderChunkModules(\n\t\t\tchunkRenderContext,\n\t\t\tinlinedModules\n\t\t\t\t? allModules.filter(\n\t\t\t\t\t\tm => !(/** @type {Set<Module>} */ (inlinedModules).has(m))\n\t\t\t\t\t)\n\t\t\t\t: allModules,\n\t\t\tmodule => this.renderModule(module, chunkRenderContext, hooks, true),\n\t\t\tprefix\n\t\t);\n\t\tif (\n\t\t\tchunkModules ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.moduleFactories) ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.moduleFactoriesAddOnly) ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.require)\n\t\t) {\n\t\t\tsource.add(`${prefix}var __webpack_modules__ = (`);\n\t\t\tsource.add(chunkModules || \"{}\");\n\t\t\tsource.add(\");\\n\");\n\t\t\tsource.add(\n\t\t\t\t\"/************************************************************************/\\n\"\n\t\t\t);\n\t\t}\n\n\t\tif (bootstrap.header.length > 0) {\n\t\t\tconst header = `${Template.asString(bootstrap.header)}\\n`;\n\t\t\tsource.add(\n\t\t\t\tnew PrefixSource(\n\t\t\t\t\tprefix,\n\t\t\t\t\tuseSourceMap\n\t\t\t\t\t\t? new OriginalSource(header, \"webpack/bootstrap\")\n\t\t\t\t\t\t: new RawSource(header)\n\t\t\t\t)\n\t\t\t);\n\t\t\tsource.add(\n\t\t\t\t\"/************************************************************************/\\n\"\n\t\t\t);\n\t\t}\n\n\t\tconst runtimeModules =\n\t\t\trenderContext.chunkGraph.getChunkRuntimeModulesInOrder(chunk);\n\n\t\tif (runtimeModules.length > 0) {\n\t\t\tsource.add(\n\t\t\t\tnew PrefixSource(\n\t\t\t\t\tprefix,\n\t\t\t\t\tTemplate.renderRuntimeModules(runtimeModules, chunkRenderContext)\n\t\t\t\t)\n\t\t\t);\n\t\t\tsource.add(\n\t\t\t\t\"/************************************************************************/\\n\"\n\t\t\t);\n\t\t\t// runtimeRuntimeModules calls codeGeneration\n\t\t\tfor (const module of runtimeModules) {\n\t\t\t\tcompilation.codeGeneratedModules.add(module);\n\t\t\t}\n\t\t}\n\t\tif (inlinedModules) {\n\t\t\tif (bootstrap.beforeStartup.length > 0) {\n\t\t\t\tconst beforeStartup = `${Template.asString(bootstrap.beforeStartup)}\\n`;\n\t\t\t\tsource.add(\n\t\t\t\t\tnew PrefixSource(\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tuseSourceMap\n\t\t\t\t\t\t\t? new OriginalSource(beforeStartup, \"webpack/before-startup\")\n\t\t\t\t\t\t\t: new RawSource(beforeStartup)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst lastInlinedModule = /** @type {Module} */ (last(inlinedModules));\n\t\t\tconst startupSource = new ConcatSource();\n\n\t\t\tif (runtimeRequirements.has(RuntimeGlobals.exports)) {\n\t\t\t\tstartupSource.add(`var ${RuntimeGlobals.exports} = {};\\n`);\n\t\t\t}\n\n\t\t\tconst avoidEntryIife = compilation.options.optimization.avoidEntryIife;\n\t\t\t/** @type {Map<Module, Source> | false} */\n\t\t\tlet renamedInlinedModule = false;\n\t\t\tif (avoidEntryIife) {\n\t\t\t\trenamedInlinedModule = this.getRenamedInlineModule(\n\t\t\t\t\tallModules,\n\t\t\t\t\trenderContext,\n\t\t\t\t\tinlinedModules,\n\t\t\t\t\tchunkRenderContext,\n\t\t\t\t\thooks,\n\t\t\t\t\tallStrict,\n\t\t\t\t\tBoolean(chunkModules)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfor (const m of inlinedModules) {\n\t\t\t\tconst renderedModule = renamedInlinedModule\n\t\t\t\t\t? renamedInlinedModule.get(m)\n\t\t\t\t\t: this.renderModule(m, chunkRenderContext, hooks, false);\n\n\t\t\t\tif (renderedModule) {\n\t\t\t\t\tconst innerStrict =\n\t\t\t\t\t\t!allStrict && /** @type {BuildInfo} */ (m.buildInfo).strict;\n\t\t\t\t\tconst runtimeRequirements = chunkGraph.getModuleRuntimeRequirements(\n\t\t\t\t\t\tm,\n\t\t\t\t\t\tchunk.runtime\n\t\t\t\t\t);\n\t\t\t\t\tconst exports = runtimeRequirements.has(RuntimeGlobals.exports);\n\t\t\t\t\tconst webpackExports =\n\t\t\t\t\t\texports && m.exportsArgument === RuntimeGlobals.exports;\n\t\t\t\t\tconst iife = innerStrict\n\t\t\t\t\t\t? \"it needs to be in strict mode.\"\n\t\t\t\t\t\t: inlinedModules.size > 1\n\t\t\t\t\t\t\t? // TODO check globals and top-level declarations of other entries and chunk modules\n\t\t\t\t\t\t\t\t// to make a better decision\n\t\t\t\t\t\t\t\t\"it needs to be isolated against other entry modules.\"\n\t\t\t\t\t\t\t: chunkModules && !renamedInlinedModule\n\t\t\t\t\t\t\t\t? \"it needs to be isolated against other modules in the chunk.\"\n\t\t\t\t\t\t\t\t: exports && !webpackExports\n\t\t\t\t\t\t\t\t\t? `it uses a non-standard name for the exports (${m.exportsArgument}).`\n\t\t\t\t\t\t\t\t\t: hooks.embedInRuntimeBailout.call(m, renderContext);\n\t\t\t\t\tlet footer;\n\t\t\t\t\tif (iife !== undefined) {\n\t\t\t\t\t\tstartupSource.add(\n\t\t\t\t\t\t\t`// This entry needs to be wrapped in an IIFE because ${iife}\\n`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst arrow = runtimeTemplate.supportsArrowFunction();\n\t\t\t\t\t\tif (arrow) {\n\t\t\t\t\t\t\tstartupSource.add(\"(() => {\\n\");\n\t\t\t\t\t\t\tfooter = \"\\n})();\\n\\n\";\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstartupSource.add(\"!function() {\\n\");\n\t\t\t\t\t\t\tfooter = \"\\n}();\\n\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (innerStrict) startupSource.add('\"use strict\";\\n');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfooter = \"\\n\";\n\t\t\t\t\t}\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\tif (m !== lastInlinedModule)\n\t\t\t\t\t\t\tstartupSource.add(`var ${m.exportsArgument} = {};\\n`);\n\t\t\t\t\t\telse if (m.exportsArgument !== RuntimeGlobals.exports)\n\t\t\t\t\t\t\tstartupSource.add(\n\t\t\t\t\t\t\t\t`var ${m.exportsArgument} = ${RuntimeGlobals.exports};\\n`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tstartupSource.add(renderedModule);\n\t\t\t\t\tstartupSource.add(footer);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (runtimeRequirements.has(RuntimeGlobals.onChunksLoaded)) {\n\t\t\t\tstartupSource.add(\n\t\t\t\t\t`${RuntimeGlobals.exports} = ${RuntimeGlobals.onChunksLoaded}(${RuntimeGlobals.exports});\\n`\n\t\t\t\t);\n\t\t\t}\n\t\t\tsource.add(\n\t\t\t\thooks.renderStartup.call(startupSource, lastInlinedModule, {\n\t\t\t\t\t...renderContext,\n\t\t\t\t\tinlined: true\n\t\t\t\t})\n\t\t\t);\n\t\t\tif (bootstrap.afterStartup.length > 0) {\n\t\t\t\tconst afterStartup = `${Template.asString(bootstrap.afterStartup)}\\n`;\n\t\t\t\tsource.add(\n\t\t\t\t\tnew PrefixSource(\n\t\t\t\t\t\tprefix,\n\t\t\t\t\t\tuseSourceMap\n\t\t\t\t\t\t\t? new OriginalSource(afterStartup, \"webpack/after-startup\")\n\t\t\t\t\t\t\t: new RawSource(afterStartup)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tconst lastEntryModule =\n\t\t\t\t/** @type {Module} */\n\t\t\t\t(last(chunkGraph.getChunkEntryModulesIterable(chunk)));\n\t\t\t/** @type {function(string[], string): Source} */\n\t\t\tconst toSource = useSourceMap\n\t\t\t\t? (content, name) =>\n\t\t\t\t\t\tnew OriginalSource(Template.asString(content), name)\n\t\t\t\t: content => new RawSource(Template.asString(content));\n\t\t\tsource.add(\n\t\t\t\tnew PrefixSource(\n\t\t\t\t\tprefix,\n\t\t\t\t\tnew ConcatSource(\n\t\t\t\t\t\ttoSource(bootstrap.beforeStartup, \"webpack/before-startup\"),\n\t\t\t\t\t\t\"\\n\",\n\t\t\t\t\t\thooks.renderStartup.call(\n\t\t\t\t\t\t\ttoSource(bootstrap.startup.concat(\"\"), \"webpack/startup\"),\n\t\t\t\t\t\t\tlastEntryModule,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...renderContext,\n\t\t\t\t\t\t\t\tinlined: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttoSource(bootstrap.afterStartup, \"webpack/after-startup\"),\n\t\t\t\t\t\t\"\\n\"\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tif (\n\t\t\thasEntryModules &&\n\t\t\truntimeRequirements.has(RuntimeGlobals.returnExportsFromRuntime)\n\t\t) {\n\t\t\tsource.add(`${prefix}return ${RuntimeGlobals.exports};\\n`);\n\t\t}\n\t\tif (iife) {\n\t\t\tsource.add(\"/******/ })()\\n\");\n\t\t}\n\n\t\t/** @type {Source} */\n\t\tlet finalSource = tryRunOrWebpackError(\n\t\t\t() => hooks.renderMain.call(source, renderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderMain\"\n\t\t);\n\t\tif (!finalSource) {\n\t\t\tthrow new Error(\n\t\t\t\t\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderMain plugins should return something\"\n\t\t\t);\n\t\t}\n\t\tfinalSource = tryRunOrWebpackError(\n\t\t\t() => hooks.renderContent.call(finalSource, renderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderContent\"\n\t\t);\n\t\tif (!finalSource) {\n\t\t\tthrow new Error(\n\t\t\t\t\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().renderContent plugins should return something\"\n\t\t\t);\n\t\t}\n\n\t\tfinalSource = InitFragment.addToSource(\n\t\t\tfinalSource,\n\t\t\tchunkRenderContext.chunkInitFragments,\n\t\t\tchunkRenderContext\n\t\t);\n\t\tfinalSource = tryRunOrWebpackError(\n\t\t\t() => hooks.render.call(finalSource, renderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().render\"\n\t\t);\n\t\tif (!finalSource) {\n\t\t\tthrow new Error(\n\t\t\t\t\"JavascriptModulesPlugin error: JavascriptModulesPlugin.getCompilationHooks().render plugins should return something\"\n\t\t\t);\n\t\t}\n\t\tchunk.rendered = true;\n\t\treturn iife ? new ConcatSource(finalSource, \";\") : finalSource;\n\t}\n\n\t/**\n\t * @param {Hash} hash the hash to be updated\n\t * @param {RenderBootstrapContext} renderContext options object\n\t * @param {CompilationHooks} hooks hooks\n\t */\n\tupdateHashWithBootstrap(hash, renderContext, hooks) {\n\t\tconst bootstrap = this.renderBootstrap(renderContext, hooks);\n\t\tfor (const _k of Object.keys(bootstrap)) {\n\t\t\tconst key = /** @type {keyof Bootstrap} */ (_k);\n\t\t\thash.update(key);\n\t\t\tif (Array.isArray(bootstrap[key])) {\n\t\t\t\tfor (const line of bootstrap[key]) {\n\t\t\t\t\thash.update(line);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thash.update(JSON.stringify(bootstrap[key]));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {RenderBootstrapContext} renderContext options object\n\t * @param {CompilationHooks} hooks hooks\n\t * @returns {Bootstrap} the generated source of the bootstrap code\n\t */\n\trenderBootstrap(renderContext, hooks) {\n\t\tconst {\n\t\t\tchunkGraph,\n\t\t\tcodeGenerationResults,\n\t\t\tmoduleGraph,\n\t\t\tchunk,\n\t\t\truntimeTemplate\n\t\t} = renderContext;\n\n\t\tconst runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n\n\t\tconst requireFunction = runtimeRequirements.has(RuntimeGlobals.require);\n\t\tconst moduleCache = runtimeRequirements.has(RuntimeGlobals.moduleCache);\n\t\tconst moduleFactories = runtimeRequirements.has(\n\t\t\tRuntimeGlobals.moduleFactories\n\t\t);\n\t\tconst moduleUsed = runtimeRequirements.has(RuntimeGlobals.module);\n\t\tconst requireScopeUsed = runtimeRequirements.has(\n\t\t\tRuntimeGlobals.requireScope\n\t\t);\n\t\tconst interceptModuleExecution = runtimeRequirements.has(\n\t\t\tRuntimeGlobals.interceptModuleExecution\n\t\t);\n\n\t\tconst useRequire =\n\t\t\trequireFunction || interceptModuleExecution || moduleUsed;\n\n\t\t/**\n\t\t * @type {{startup: string[], beforeStartup: string[], header: string[], afterStartup: string[], allowInlineStartup: boolean}}\n\t\t */\n\t\tconst result = {\n\t\t\theader: [],\n\t\t\tbeforeStartup: [],\n\t\t\tstartup: [],\n\t\t\tafterStartup: [],\n\t\t\tallowInlineStartup: true\n\t\t};\n\n\t\tconst { header: buf, startup, beforeStartup, afterStartup } = result;\n\n\t\tif (result.allowInlineStartup && moduleFactories) {\n\t\t\tstartup.push(\n\t\t\t\t\"// module factories are used so entry inlining is disabled\"\n\t\t\t);\n\t\t\tresult.allowInlineStartup = false;\n\t\t}\n\t\tif (result.allowInlineStartup && moduleCache) {\n\t\t\tstartup.push(\"// module cache are used so entry inlining is disabled\");\n\t\t\tresult.allowInlineStartup = false;\n\t\t}\n\t\tif (result.allowInlineStartup && interceptModuleExecution) {\n\t\t\tstartup.push(\n\t\t\t\t\"// module execution is intercepted so entry inlining is disabled\"\n\t\t\t);\n\t\t\tresult.allowInlineStartup = false;\n\t\t}\n\n\t\tif (useRequire || moduleCache) {\n\t\t\tbuf.push(\"// The module cache\");\n\t\t\tbuf.push(\"var __webpack_module_cache__ = {};\");\n\t\t\tbuf.push(\"\");\n\t\t}\n\n\t\tif (useRequire) {\n\t\t\tbuf.push(\"// The require function\");\n\t\t\tbuf.push(`function ${RuntimeGlobals.require}(moduleId) {`);\n\t\t\tbuf.push(Template.indent(this.renderRequire(renderContext, hooks)));\n\t\t\tbuf.push(\"}\");\n\t\t\tbuf.push(\"\");\n\t\t} else if (runtimeRequirements.has(RuntimeGlobals.requireScope)) {\n\t\t\tbuf.push(\"// The require scope\");\n\t\t\tbuf.push(`var ${RuntimeGlobals.require} = {};`);\n\t\t\tbuf.push(\"\");\n\t\t}\n\n\t\tif (\n\t\t\tmoduleFactories ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.moduleFactoriesAddOnly)\n\t\t) {\n\t\t\tbuf.push(\"// expose the modules object (__webpack_modules__)\");\n\t\t\tbuf.push(`${RuntimeGlobals.moduleFactories} = __webpack_modules__;`);\n\t\t\tbuf.push(\"\");\n\t\t}\n\n\t\tif (moduleCache) {\n\t\t\tbuf.push(\"// expose the module cache\");\n\t\t\tbuf.push(`${RuntimeGlobals.moduleCache} = __webpack_module_cache__;`);\n\t\t\tbuf.push(\"\");\n\t\t}\n\n\t\tif (interceptModuleExecution) {\n\t\t\tbuf.push(\"// expose the module execution interceptor\");\n\t\t\tbuf.push(`${RuntimeGlobals.interceptModuleExecution} = [];`);\n\t\t\tbuf.push(\"\");\n\t\t}\n\n\t\tif (!runtimeRequirements.has(RuntimeGlobals.startupNoDefault)) {\n\t\t\tif (chunkGraph.getNumberOfEntryModules(chunk) > 0) {\n\t\t\t\t/** @type {string[]} */\n\t\t\t\tconst buf2 = [];\n\t\t\t\tconst runtimeRequirements =\n\t\t\t\t\tchunkGraph.getTreeRuntimeRequirements(chunk);\n\t\t\t\tbuf2.push(\"// Load entry module and return exports\");\n\t\t\t\tlet i = chunkGraph.getNumberOfEntryModules(chunk);\n\t\t\t\tfor (const [\n\t\t\t\t\tentryModule,\n\t\t\t\t\tentrypoint\n\t\t\t\t] of chunkGraph.getChunkEntryModulesWithChunkGroupIterable(chunk)) {\n\t\t\t\t\tif (!chunkGraph.getModuleSourceTypes(entryModule).has(\"javascript\")) {\n\t\t\t\t\t\ti--;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst chunks =\n\t\t\t\t\t\t/** @type {Entrypoint} */\n\t\t\t\t\t\t(entrypoint).chunks.filter(c => c !== chunk);\n\t\t\t\t\tif (result.allowInlineStartup && chunks.length > 0) {\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\"// This entry module depends on other loaded chunks and execution need to be delayed\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tresult.allowInlineStartup &&\n\t\t\t\t\t\tsomeInIterable(\n\t\t\t\t\t\t\tmoduleGraph.getIncomingConnectionsByOriginModule(entryModule),\n\t\t\t\t\t\t\t([originModule, connections]) =>\n\t\t\t\t\t\t\t\toriginModule &&\n\t\t\t\t\t\t\t\tconnections.some(c => c.isTargetActive(chunk.runtime)) &&\n\t\t\t\t\t\t\t\tsomeInIterable(\n\t\t\t\t\t\t\t\t\tchunkGraph.getModuleRuntimes(originModule),\n\t\t\t\t\t\t\t\t\truntime =>\n\t\t\t\t\t\t\t\t\t\tintersectRuntime(runtime, chunk.runtime) !== undefined\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\"// This entry module is referenced by other modules so it can't be inlined\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet data;\n\t\t\t\t\tif (codeGenerationResults.has(entryModule, chunk.runtime)) {\n\t\t\t\t\t\tconst result = codeGenerationResults.get(\n\t\t\t\t\t\t\tentryModule,\n\t\t\t\t\t\t\tchunk.runtime\n\t\t\t\t\t\t);\n\t\t\t\t\t\tdata = result.data;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tresult.allowInlineStartup &&\n\t\t\t\t\t\t(!data || !data.get(\"topLevelDeclarations\")) &&\n\t\t\t\t\t\t(!entryModule.buildInfo ||\n\t\t\t\t\t\t\t!entryModule.buildInfo.topLevelDeclarations)\n\t\t\t\t\t) {\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\"// This entry module doesn't tell about it's top-level declarations so it can't be inlined\"\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (result.allowInlineStartup) {\n\t\t\t\t\t\tconst bailout = hooks.inlineInRuntimeBailout.call(\n\t\t\t\t\t\t\tentryModule,\n\t\t\t\t\t\t\trenderContext\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (bailout !== undefined) {\n\t\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\t`// This entry module can't be inlined because ${bailout}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ti--;\n\t\t\t\t\tconst moduleId = chunkGraph.getModuleId(entryModule);\n\t\t\t\t\tconst entryRuntimeRequirements =\n\t\t\t\t\t\tchunkGraph.getModuleRuntimeRequirements(entryModule, chunk.runtime);\n\t\t\t\t\tlet moduleIdExpr = JSON.stringify(moduleId);\n\t\t\t\t\tif (runtimeRequirements.has(RuntimeGlobals.entryModuleId)) {\n\t\t\t\t\t\tmoduleIdExpr = `${RuntimeGlobals.entryModuleId} = ${moduleIdExpr}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tresult.allowInlineStartup &&\n\t\t\t\t\t\tentryRuntimeRequirements.has(RuntimeGlobals.module)\n\t\t\t\t\t) {\n\t\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\"// This entry module used 'module' so it can't be inlined\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (chunks.length > 0) {\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t`${i === 0 ? `var ${RuntimeGlobals.exports} = ` : \"\"}${\n\t\t\t\t\t\t\t\tRuntimeGlobals.onChunksLoaded\n\t\t\t\t\t\t\t}(undefined, ${JSON.stringify(\n\t\t\t\t\t\t\t\tchunks.map(c => c.id)\n\t\t\t\t\t\t\t)}, ${runtimeTemplate.returningFunction(\n\t\t\t\t\t\t\t\t`${RuntimeGlobals.require}(${moduleIdExpr})`\n\t\t\t\t\t\t\t)})`\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (useRequire) {\n\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t`${i === 0 ? `var ${RuntimeGlobals.exports} = ` : \"\"}${\n\t\t\t\t\t\t\t\tRuntimeGlobals.require\n\t\t\t\t\t\t\t}(${moduleIdExpr});`\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (i === 0) buf2.push(`var ${RuntimeGlobals.exports} = {};`);\n\t\t\t\t\t\tif (requireScopeUsed) {\n\t\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\t`__webpack_modules__[${moduleIdExpr}](0, ${\n\t\t\t\t\t\t\t\t\ti === 0 ? RuntimeGlobals.exports : \"{}\"\n\t\t\t\t\t\t\t\t}, ${RuntimeGlobals.require});`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (entryRuntimeRequirements.has(RuntimeGlobals.exports)) {\n\t\t\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t\t\t`__webpack_modules__[${moduleIdExpr}](0, ${\n\t\t\t\t\t\t\t\t\ti === 0 ? RuntimeGlobals.exports : \"{}\"\n\t\t\t\t\t\t\t\t});`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuf2.push(`__webpack_modules__[${moduleIdExpr}]();`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (runtimeRequirements.has(RuntimeGlobals.onChunksLoaded)) {\n\t\t\t\t\tbuf2.push(\n\t\t\t\t\t\t`${RuntimeGlobals.exports} = ${RuntimeGlobals.onChunksLoaded}(${RuntimeGlobals.exports});`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\truntimeRequirements.has(RuntimeGlobals.startup) ||\n\t\t\t\t\t(runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore) &&\n\t\t\t\t\t\truntimeRequirements.has(RuntimeGlobals.startupOnlyAfter))\n\t\t\t\t) {\n\t\t\t\t\tresult.allowInlineStartup = false;\n\t\t\t\t\tbuf.push(\"// the startup function\");\n\t\t\t\t\tbuf.push(\n\t\t\t\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.basicFunction(\"\", [\n\t\t\t\t\t\t\t...buf2,\n\t\t\t\t\t\t\t`return ${RuntimeGlobals.exports};`\n\t\t\t\t\t\t])};`\n\t\t\t\t\t);\n\t\t\t\t\tbuf.push(\"\");\n\t\t\t\t\tstartup.push(\"// run startup\");\n\t\t\t\t\tstartup.push(\n\t\t\t\t\t\t`var ${RuntimeGlobals.exports} = ${RuntimeGlobals.startup}();`\n\t\t\t\t\t);\n\t\t\t\t} else if (runtimeRequirements.has(RuntimeGlobals.startupOnlyBefore)) {\n\t\t\t\t\tbuf.push(\"// the startup function\");\n\t\t\t\t\tbuf.push(\n\t\t\t\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`\n\t\t\t\t\t);\n\t\t\t\t\tbeforeStartup.push(\"// run runtime startup\");\n\t\t\t\t\tbeforeStartup.push(`${RuntimeGlobals.startup}();`);\n\t\t\t\t\tstartup.push(\"// startup\");\n\t\t\t\t\tstartup.push(Template.asString(buf2));\n\t\t\t\t} else if (runtimeRequirements.has(RuntimeGlobals.startupOnlyAfter)) {\n\t\t\t\t\tbuf.push(\"// the startup function\");\n\t\t\t\t\tbuf.push(\n\t\t\t\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`\n\t\t\t\t\t);\n\t\t\t\t\tstartup.push(\"// startup\");\n\t\t\t\t\tstartup.push(Template.asString(buf2));\n\t\t\t\t\tafterStartup.push(\"// run runtime startup\");\n\t\t\t\t\tafterStartup.push(`${RuntimeGlobals.startup}();`);\n\t\t\t\t} else {\n\t\t\t\t\tstartup.push(\"// startup\");\n\t\t\t\t\tstartup.push(Template.asString(buf2));\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\truntimeRequirements.has(RuntimeGlobals.startup) ||\n\t\t\t\truntimeRequirements.has(RuntimeGlobals.startupOnlyBefore) ||\n\t\t\t\truntimeRequirements.has(RuntimeGlobals.startupOnlyAfter)\n\t\t\t) {\n\t\t\t\tbuf.push(\n\t\t\t\t\t\"// the startup function\",\n\t\t\t\t\t\"// It's empty as no entry modules are in this chunk\",\n\t\t\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`,\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\truntimeRequirements.has(RuntimeGlobals.startup) ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.startupOnlyBefore) ||\n\t\t\truntimeRequirements.has(RuntimeGlobals.startupOnlyAfter)\n\t\t) {\n\t\t\tresult.allowInlineStartup = false;\n\t\t\tbuf.push(\n\t\t\t\t\"// the startup function\",\n\t\t\t\t\"// It's empty as some runtime module handles the default behavior\",\n\t\t\t\t`${RuntimeGlobals.startup} = ${runtimeTemplate.emptyFunction()};`\n\t\t\t);\n\t\t\tstartup.push(\"// run startup\");\n\t\t\tstartup.push(\n\t\t\t\t`var ${RuntimeGlobals.exports} = ${RuntimeGlobals.startup}();`\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * @param {RenderBootstrapContext} renderContext options object\n\t * @param {CompilationHooks} hooks hooks\n\t * @returns {string} the generated source of the require function\n\t */\n\trenderRequire(renderContext, hooks) {\n\t\tconst {\n\t\t\tchunk,\n\t\t\tchunkGraph,\n\t\t\truntimeTemplate: { outputOptions }\n\t\t} = renderContext;\n\t\tconst runtimeRequirements = chunkGraph.getTreeRuntimeRequirements(chunk);\n\t\tconst moduleExecution = runtimeRequirements.has(\n\t\t\tRuntimeGlobals.interceptModuleExecution\n\t\t)\n\t\t\t? Template.asString([\n\t\t\t\t\t`var execOptions = { id: moduleId, module: module, factory: __webpack_modules__[moduleId], require: ${RuntimeGlobals.require} };`,\n\t\t\t\t\t`${RuntimeGlobals.interceptModuleExecution}.forEach(function(handler) { handler(execOptions); });`,\n\t\t\t\t\t\"module = execOptions.module;\",\n\t\t\t\t\t\"execOptions.factory.call(module.exports, module, module.exports, execOptions.require);\"\n\t\t\t\t])\n\t\t\t: runtimeRequirements.has(RuntimeGlobals.thisAsExports)\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t`__webpack_modules__[moduleId].call(module.exports, module, module.exports, ${RuntimeGlobals.require});`\n\t\t\t\t\t])\n\t\t\t\t: Template.asString([\n\t\t\t\t\t\t`__webpack_modules__[moduleId](module, module.exports, ${RuntimeGlobals.require});`\n\t\t\t\t\t]);\n\t\tconst needModuleId = runtimeRequirements.has(RuntimeGlobals.moduleId);\n\t\tconst needModuleLoaded = runtimeRequirements.has(\n\t\t\tRuntimeGlobals.moduleLoaded\n\t\t);\n\t\tconst content = Template.asString([\n\t\t\t\"// Check if module is in cache\",\n\t\t\t\"var cachedModule = __webpack_module_cache__[moduleId];\",\n\t\t\t\"if (cachedModule !== undefined) {\",\n\t\t\toutputOptions.strictModuleErrorHandling\n\t\t\t\t? Template.indent([\n\t\t\t\t\t\t\"if (cachedModule.error !== undefined) throw cachedModule.error;\",\n\t\t\t\t\t\t\"return cachedModule.exports;\"\n\t\t\t\t\t])\n\t\t\t\t: Template.indent(\"return cachedModule.exports;\"),\n\t\t\t\"}\",\n\t\t\t\"// Create a new module (and put it into the cache)\",\n\t\t\t\"var module = __webpack_module_cache__[moduleId] = {\",\n\t\t\tTemplate.indent([\n\t\t\t\tneedModuleId ? \"id: moduleId,\" : \"// no module.id needed\",\n\t\t\t\tneedModuleLoaded ? \"loaded: false,\" : \"// no module.loaded needed\",\n\t\t\t\t\"exports: {}\"\n\t\t\t]),\n\t\t\t\"};\",\n\t\t\t\"\",\n\t\t\toutputOptions.strictModuleExceptionHandling\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\"// Execute the module function\",\n\t\t\t\t\t\t\"var threw = true;\",\n\t\t\t\t\t\t\"try {\",\n\t\t\t\t\t\tTemplate.indent([moduleExecution, \"threw = false;\"]),\n\t\t\t\t\t\t\"} finally {\",\n\t\t\t\t\t\tTemplate.indent([\n\t\t\t\t\t\t\t\"if(threw) delete __webpack_module_cache__[moduleId];\"\n\t\t\t\t\t\t]),\n\t\t\t\t\t\t\"}\"\n\t\t\t\t\t])\n\t\t\t\t: outputOptions.strictModuleErrorHandling\n\t\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\t\"// Execute the module function\",\n\t\t\t\t\t\t\t\"try {\",\n\t\t\t\t\t\t\tTemplate.indent(moduleExecution),\n\t\t\t\t\t\t\t\"} catch(e) {\",\n\t\t\t\t\t\t\tTemplate.indent([\"module.error = e;\", \"throw e;\"]),\n\t\t\t\t\t\t\t\"}\"\n\t\t\t\t\t\t])\n\t\t\t\t\t: Template.asString([\n\t\t\t\t\t\t\t\"// Execute the module function\",\n\t\t\t\t\t\t\tmoduleExecution\n\t\t\t\t\t\t]),\n\t\t\tneedModuleLoaded\n\t\t\t\t? Template.asString([\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"// Flag the module as loaded\",\n\t\t\t\t\t\t`${RuntimeGlobals.moduleLoaded} = true;`,\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t])\n\t\t\t\t: \"\",\n\t\t\t\"// Return the exports of the module\",\n\t\t\t\"return module.exports;\"\n\t\t]);\n\t\treturn tryRunOrWebpackError(\n\t\t\t() => hooks.renderRequire.call(content, renderContext),\n\t\t\t\"JavascriptModulesPlugin.getCompilationHooks().renderRequire\"\n\t\t);\n\t}\n\n\t/**\n\t * @param {Module[]} allModules allModules\n\t * @param {MainRenderContext} renderContext renderContext\n\t * @param {Set<Module>} inlinedModules inlinedModules\n\t * @param {ChunkRenderContext} chunkRenderContext chunkRenderContext\n\t * @param {CompilationHooks} hooks hooks\n\t * @param {boolean | undefined} allStrict allStrict\n\t * @param {boolean} hasChunkModules hasChunkModules\n\t * @returns {Map<Module, Source> | false} renamed inlined modules\n\t */\n\tgetRenamedInlineModule(\n\t\tallModules,\n\t\trenderContext,\n\t\tinlinedModules,\n\t\tchunkRenderContext,\n\t\thooks,\n\t\tallStrict,\n\t\thasChunkModules\n\t) {\n\t\tconst innerStrict =\n\t\t\t!allStrict &&\n\t\t\tallModules.every(m => /** @type {BuildInfo} */ (m.buildInfo).strict);\n\t\tconst isMultipleEntries = inlinedModules.size > 1;\n\t\tconst singleEntryWithModules = inlinedModules.size === 1 && hasChunkModules;\n\n\t\t// TODO:\n\t\t// This step is before the IIFE reason calculation. Ideally, it should only be executed when this function can optimize the\n\t\t// IIFE reason. Otherwise, it should directly return false. There are four reasons now, we have skipped two already, the left\n\t\t// one is 'it uses a non-standard name for the exports'.\n\t\tif (isMultipleEntries || innerStrict || !singleEntryWithModules) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/** @type {Map<Module, Source>} */\n\t\tconst renamedInlinedModules = new Map();\n\t\tconst { runtimeTemplate } = renderContext;\n\n\t\t/** @typedef {{ source: Source, module: Module, ast: any, variables: Set<Variable>, through: Set<Reference>, usedInNonInlined: Set<Variable>, moduleScope: Scope }} Info */\n\t\t/** @type {Map<Module, Info>} */\n\t\tconst inlinedModulesToInfo = new Map();\n\t\t/** @type {Set<string>} */\n\t\tconst nonInlinedModuleThroughIdentifiers = new Set();\n\t\t/** @type {Map<Module, Source>} */\n\n\t\tfor (const m of allModules) {\n\t\t\tconst isInlinedModule = inlinedModules && inlinedModules.has(m);\n\t\t\tconst moduleSource = this.renderModule(\n\t\t\t\tm,\n\t\t\t\tchunkRenderContext,\n\t\t\t\thooks,\n\t\t\t\t!isInlinedModule\n\t\t\t);\n\n\t\t\tif (!moduleSource) continue;\n\t\t\tconst code = /** @type {string} */ (moduleSource.source());\n\t\t\tconst ast = JavascriptParser._parse(code, {\n\t\t\t\tsourceType: \"auto\"\n\t\t\t});\n\n\t\t\tconst scopeManager = eslintScope.analyze(ast, {\n\t\t\t\tecmaVersion: 6,\n\t\t\t\tsourceType: \"module\",\n\t\t\t\toptimistic: true,\n\t\t\t\tignoreEval: true\n\t\t\t});\n\n\t\t\tconst globalScope = /** @type {Scope} */ (scopeManager.acquire(ast));\n\t\t\tif (inlinedModules && inlinedModules.has(m)) {\n\t\t\t\tconst moduleScope = globalScope.childScopes[0];\n\t\t\t\tinlinedModulesToInfo.set(m, {\n\t\t\t\t\tsource: moduleSource,\n\t\t\t\t\tast,\n\t\t\t\t\tmodule: m,\n\t\t\t\t\tvariables: new Set(moduleScope.variables),\n\t\t\t\t\tthrough: new Set(moduleScope.through),\n\t\t\t\t\tusedInNonInlined: new Set(),\n\t\t\t\t\tmoduleScope\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfor (const ref of globalScope.through) {\n\t\t\t\t\tnonInlinedModuleThroughIdentifiers.add(ref.identifier.name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const [, { variables, usedInNonInlined }] of inlinedModulesToInfo) {\n\t\t\tfor (const variable of variables) {\n\t\t\t\tif (\n\t\t\t\t\tnonInlinedModuleThroughIdentifiers.has(variable.name) ||\n\t\t\t\t\tRESERVED_NAMES.has(variable.name)\n\t\t\t\t) {\n\t\t\t\t\tusedInNonInlined.add(variable);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const [m, moduleInfo] of inlinedModulesToInfo) {\n\t\t\tconst { ast, source: _source, usedInNonInlined } = moduleInfo;\n\t\t\tconst source = new ReplaceSource(_source);\n\t\t\tif (usedInNonInlined.size === 0) {\n\t\t\t\trenamedInlinedModules.set(m, source);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst info = /** @type {Info} */ (inlinedModulesToInfo.get(m));\n\t\t\tconst allUsedNames = new Set(\n\t\t\t\tArray.from(info.through, v => v.identifier.name)\n\t\t\t);\n\n\t\t\tfor (const variable of usedInNonInlined) {\n\t\t\t\tallUsedNames.add(variable.name);\n\t\t\t}\n\n\t\t\tfor (const variable of info.variables) {\n\t\t\t\tallUsedNames.add(variable.name);\n\t\t\t\tconst references = getAllReferences(variable);\n\t\t\t\tconst allIdentifiers = new Set(\n\t\t\t\t\treferences.map(r => r.identifier).concat(variable.identifiers)\n\t\t\t\t);\n\n\t\t\t\tconst usedNamesInScopeInfo = new Map();\n\t\t\t\tconst ignoredScopes = new Set();\n\n\t\t\t\tconst name = variable.name;\n\t\t\t\tconst { usedNames, alreadyCheckedScopes } = getUsedNamesInScopeInfo(\n\t\t\t\t\tusedNamesInScopeInfo,\n\t\t\t\t\tinfo.module.identifier(),\n\t\t\t\t\tname\n\t\t\t\t);\n\n\t\t\t\tif (allUsedNames.has(name) || usedNames.has(name)) {\n\t\t\t\t\tconst references = getAllReferences(variable);\n\t\t\t\t\tfor (const ref of references) {\n\t\t\t\t\t\taddScopeSymbols(\n\t\t\t\t\t\t\tref.from,\n\t\t\t\t\t\t\tusedNames,\n\t\t\t\t\t\t\talreadyCheckedScopes,\n\t\t\t\t\t\t\tignoredScopes\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst newName = findNewName(\n\t\t\t\t\t\tvariable.name,\n\t\t\t\t\t\tallUsedNames,\n\t\t\t\t\t\tusedNames,\n\t\t\t\t\t\tm.readableIdentifier(runtimeTemplate.requestShortener)\n\t\t\t\t\t);\n\t\t\t\t\tallUsedNames.add(newName);\n\t\t\t\t\tfor (const identifier of allIdentifiers) {\n\t\t\t\t\t\tconst r = /** @type {Range} */ (identifier.range);\n\t\t\t\t\t\tconst path = getPathInAst(ast, identifier);\n\t\t\t\t\t\tif (path && path.length > 1) {\n\t\t\t\t\t\t\tconst maybeProperty =\n\t\t\t\t\t\t\t\tpath[1].type === \"AssignmentPattern\" && path[1].left === path[0]\n\t\t\t\t\t\t\t\t\t? path[2]\n\t\t\t\t\t\t\t\t\t: path[1];\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tmaybeProperty.type === \"Property\" &&\n\t\t\t\t\t\t\t\tmaybeProperty.shorthand\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsource.insert(r[1], `: ${newName}`);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource.replace(r[0], r[1] - 1, newName);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tallUsedNames.add(name);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trenamedInlinedModules.set(m, source);\n\t\t}\n\n\t\treturn renamedInlinedModules;\n\t}\n}\n\nmodule.exports = JavascriptModulesPlugin;\nmodule.exports.chunkHasJs = chunkHasJs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}